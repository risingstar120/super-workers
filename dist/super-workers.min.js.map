{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///super-workers.min.js","webpack:///webpack/bootstrap 7753a3f3a61ac6416a3f","webpack:///./src/vendor/Promise.js","webpack:///./src/enums/TaskStatusEnum.js","webpack:///./src/utils/generalUtils.js","webpack:///./src/enums/WarningTextEnum.js","webpack:///./src/enums/WorkerStatusEnum.js","webpack:///./src/enums/WorkerActionEnum.js","webpack:///./src/vendor/uuid.js","webpack:///./src/TaskQueue.js","webpack:///./src/utils/array.js","webpack:///./src/utils/worker.js","webpack:///./src/index.js","webpack:///./src/MainThread.js","webpack:///./src/RegisterWorker.js","webpack:///./src/WorkerThread.js"],"names":["root","factory","exports","module","define","amd","SuperWorkers","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Promise","handler","CancellationError","message","stack","Error","TimeoutError","_then","callback","resolve","reject","result","res","then","catch","error","self","_resolve","_reject","_process","constructor","onFail","SyntaxError","_onSuccess","_onFail","onSuccess","push","f","forEach","fn","cancel","timeout","delay","timer","setTimeout","always","clearTimeout","promises","remaining","results","resolver","promise","TaskStatusEnum","PENDING","QUEUED","ACTIVE","FAILED","COMPLETED","_WarningTextEnum","_WarningTextEnum2","obj","GeneralUtils","isPromise","serializeFunction","encodeURI","toString","deSerializeFunction","decodeURI","serializeError","err","errProps","deSerializeError","fakeError","keys","stringifyJson","data","INVALID_JSON","JSON","stringify","e","console","warn","parseJson","jsonParsedData","PARSE_JSON","parse","WarningTextEnum","NO_ID_PROVIDED","INVALID_DATA","WORKER_ALREADY_TERMINATED","CONFIG_REQUIRED","WORKER_NOT_SUPPORTED","URL_REQUIRED","WorkerStatusEnum","IDLE","TERMINATED","WorkerActionEnum","READY","EXEC","UUID","generate","rand","_getRandomInt","hex","_hexAligner","x","NaN","Math","random","_getIntAligner","radix","num","str","z","hexString","_interopRequireDefault","_uuid","_uuid2","_array","_array2","_TaskStatusEnum","_TaskStatusEnum2","TaskQueue","config","tasks","allTasks","_add","task","id","status","output","_addToAllList","_remove","index","searchByKeyName","splice","_getCompleted","getNextTask","sortOnStringType","getActive","filter","getCompleted","getFailed","getAll","ArrayUtils","returnPreferenceEnum","INDEX","OBJECT","BOTH","returnPreference","returnData","isNaN","parseInt","sortOn","arr","orderBy","sort","a","b","_typeof","Symbol","iterator","_Promise","_Promise2","_generalUtils","_generalUtils2","_WorkerStatusEnum","_WorkerStatusEnum2","WorkerUtils","workers","_isWebWorkerSupported","window","Worker","worker","addNew","getIdle","getTerminated","terminate","terminateAllExceptOne","minWorkers","terminateAll","exceptOne","nonTerminatedWorkers","concat","broadCastAll","sendMessage","broadCastTo","targetedWorker","msg","isEncodedMethod","method","defer","taskId","params","action","postMessage","_MainThread","_MainThread2","_WorkerThread","_WorkerThread2","MainThread","WorkerThread","_extends","assign","arguments","source","_RegisterWorker","_RegisterWorker2","_TaskQueue","_TaskQueue2","_worker","_worker2","_WorkerActionEnum","_WorkerActionEnum2","maxWorkers","navigator","hardwareConcurrency","max","init","Array","isArray","priority","LOW","taskQueue","_runQueuedTask","_this","nextQueuedTask","availableWorker","register","runningOnWorkerId","_ensureMinWorkers","url","RegisterWorker","activeTasks","activeTasksRunningOnWorker","_this2","addEventListener","onWorkerMessage","bind","onError","ev","totalJobsFailed","lastJobFaileddAt","Date","totalJobsCompleted","lastJobCompletedAt","createdAt","addEventListeners","methods","unlistenEvents","addListeners","origin","onMessage","messageData","_params","_fn","eval","apply","thenResult","removeEventListener"],"mappings":";;;;;;;;;CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,kBAAAH,GACA,gBAAAC,SACAA,QAAAI,aAAAL,IAEAD,EAAAM,aAAAL,KACCM,KAAA,WACD,MCSgB,UAAUC,GCf1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAR,OAGA,IAAAC,GAAAQ,EAAAD,IACAE,EAAAF,EACAG,KACAX,WAUA,OANAM,GAAAE,GAAAI,KAAAX,EAAAD,QAAAC,IAAAD,QAAAO,GAGAN,EAAAU,KAGAV,EAAAD,QAvBA,GAAAS,KA4DA,OAhCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,SAAAf,EAAAgB,EAAAC,GACAV,EAAAW,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,GACAK,gBACAC,cACAC,IAAAN,KAMAV,EAAAiB,EAAA,SAAAvB,GACA,GAAAgB,GAAAhB,KAAAwB,WACA,WAA2B,MAAAxB,GAAAyB,SAC3B,WAAiC,MAAAzB,GAEjC,OADAM,GAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAS,EAAAC,GAAsD,MAAAT,QAAAU,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDrB,EAAAwB,EAAA,GAGAxB,IAAAyB,EAAA,MDyBM,SAAU/B,EAAQD,EAASO,GAEjC,YASA,SAAS0B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHjB,OAAOC,eAAepB,EAAS,cAC7BqC,UAGF,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI/B,GAAI,EAAGA,EAAI+B,EAAMC,OAAQhC,IAAK,CAAE,GAAIiC,GAAaF,EAAM/B,EAAIiC,GAAWrB,WAAaqB,EAAWrB,eAAqBqB,EAAWtB,gBAAyB,SAAWsB,KAAYA,EAAWC,aAAiBzB,OAAOC,eAAeoB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYN,UAAWiB,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MEtF1hBa,EFmGQ,WElGZ,QAAAA,GAAYC,GASV,QAASC,GAAkBC,GACzB9C,KAAK8C,QAAUA,GAAW,oBAC1B9C,KAAK+C,UAAaC,QAASD,MAY7B,QAASE,GAAaH,GACpB9C,KAAK8C,QAAUA,GAAW,mBAC1B9C,KAAK+C,UAAaC,QAASD,MAkD7B,QAASG,GAAMC,EAAUC,EAASC,GAChC,MAAO,UAAAC,GACL,IACE,GAAMC,GAAMJ,EAASG,EAEjBC,IAA2B,kBAAbA,GAAIC,MAA+C,kBAAjBD,GAAAE,MAElDF,EAAIC,KAAKJ,EAASC,GAElBD,EAAQG,GAEV,MAAOG,GACPL,EAAOK,KAvFM9B,EAAA5B,KAAA2C,EACnB,IAAMgB,GAAO3D,KACT4D,SAAUC,SAASC,QA0CvB,IA9BAjB,EAAkBrB,UAAY,GAAIwB,OAClCH,EAAkBrB,UAAUuC,YAAcf,MAC1CH,EAAkBrB,UAAUb,KAAO,oBAYnCsC,EAAazB,UAAY,GAAIwB,OAC7BC,EAAazB,UAAUuC,YAAcf,MACrCC,EAAazB,UAAUb,KAAO,eAE9BX,KAAK6C,kBAAoBA,EACzB7C,KAAKiD,aAAeA,EAOpBjD,KAAAyD,MAAgB,SAAUO,GACxB,MAAOhE,MAAKwD,KAAK,KAAMQ,MAGnBhE,eAAgB2C,IACpB,KAAM,IAAIsB,aAAY,mDAGxB,IAAuB,kBAAZrB,GACT,KAAM,IAAIqB,aAAY,sDAGxB,IAAMC,MACAC,IASNL,GAAW,SAACM,EAAWJ,GACrBE,EAAWG,KAAKD,GAChBD,EAAQE,KAAKL,IAkCfhE,KAAKwD,KAAO,SAACY,EAAWJ,GAAZ,MAAuB,IAAIrB,GAAQ,SAACS,EAASC,GACvD,GAAM1B,GAAIyC,EAAYlB,EAAMkB,EAAWhB,EAASC,GAAUD,EACpDkB,EAAIN,EAASd,EAAMc,EAAQZ,EAASC,GAAUA,CAEpDS,GAASnC,EAAG2C,IACXX,IAOHC,EAAW,SAAAN,GAaT,MAZAY,GAAWK,QAAQ,SAAAC,GACjBA,EAAGlB,KAGLQ,EAAW,SAACM,EAAWJ,GACrBI,EAAUd,IAGZM,EAAWC,EAAU,WACnB,KAAM,IAAIb,OAAM,gCAGXW,GAQTE,EAAU,SAAAH,GAaR,MAZAS,GAAQI,QAAQ,SAAAC,GACdA,EAAGd,KAGLI,EAAW,SAACM,EAAWJ,GACrBA,EAAON,IAGTE,EAAWC,EAAU,WACnB,KAAM,IAAIb,OAAM,gCAGXW,GAOT3D,KAAKyE,OAAS,WAGZ,MAFAZ,GAAQ,GAAIhB,IAELc,GAUT3D,KAAK0E,QAAU,SAAAC,GACb,GAAMC,GAAQC,WAAW,WACvBhB,EAAQ,GAAIZ,GAAJ,2BAA4C0B,EAA5C,SACPA,EAMH,OAJAhB,GAAKmB,OAAO,WACVC,aAAaH,KAGRjB,GAITf,EAAQ,SAAAU,GACNM,EAASN,IACR,SAAAI,GACDG,EAAQH,KFkLZ,MA1DAzB,GAAaU,IACXH,IAAK,SACLR,MAAO,SE9GFwC,GACL,MAAOxE,MAAKwD,KAAKgB,EAAIA,QFyHrBhC,IAAK,MACLR,MAAO,SEjHEgD,GACT,MAAO,IAAIrC,GAAQ,SAACS,EAASC,GAC3B,GAAI4B,GAAYD,EAAS3C,OACnB6C,IAEFD,GACFD,EAAST,QAAQ,SAAC7C,EAAGrB,GACnBqB,EAAE8B,KAAK,SAAAF,GACL4B,EAAQ7E,GAAKiD,EAEK,KADlB2B,GAEE7B,EAAQ8B,IAET,SAAAxB,GACDuB,EAAY,EACZ5B,EAAOK,OAIXN,EAAQ8B,QF4HZ1C,IAAK,QACLR,MAAO,WEnHP,GAAMmD,KAON,OALAA,GAASC,QAAU,GAAIzC,GAAQ,SAACS,EAASC,GACvC8B,EAAS/B,QAAUA,EACnB+B,EAAS9B,OAASA,IAGb8B,MFwHFxC,IAGThD,GAAQ0B,QEvHOsB,GF2HT,SAAU/C,EAAQD,EAASO,GAEjC,YAGAY,QAAOC,eAAepB,EAAS,cAC7BqC,UGzXF,IAAMqD,IACJC,QAAS,UACTC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,UAAW,YHkYb/F,GAAQ0B,QG/XOgE,GHmYT,SAAUzF,EAAQD,EAASO,GAEjC,YAGAY,QAAOC,eAAepB,EAAS,cAC7BqC,UIrZF,IAAA2D,GAAAzF,EAAA,GJ0ZI0F,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIzE,WAAayE,GAAQxE,QAASwE,IAFxCF,GIxZ3CG,GACFC,UAAW,SAAC/D,GACV,MAAOA,IAAgC,kBAAfA,GAAMwB,MAEhCwC,kBAAmB,SAACxB,GAClB,SAAKA,GAAoB,kBAAPA,KAEXyB,UAAUzB,EAAG0B,aAEtBC,oBAAqB,SAAC3B,GACpB,SAAKA,GAAoB,gBAAPA,KAEX4B,UAAU5B,IAEnB6B,eAAgB,SAAC3C,GACf,GAAIrD,UACAiG,KACAC,GAAa,OAAQ,UAAW,QAAS,SAE7C,IAAI7C,YAAiBV,OAAO,CAC1B,IAAK3C,EAAIkG,EAASlE,OAAS,EAAGhC,GAAK,EAAGA,IACpCiG,EAAIC,EAASlG,IAAMqD,EAAM6C,EAASlG,GAEpC,OAAOiG,GAGT,MAAOA,IAETE,iBAAkB,SAAC9C,GACjB,GAAIrD,UACAoG,EAAY,GAAIzD,OAAM,GAE1B,KAAKU,EACH,MAAO+C,EAGT,IAAIrE,GAAQtB,OAAO4F,KAAKhD,EAExB,KAAKrD,EAAI,EAAGA,EAAI+B,EAAMC,OAAQhC,IAC5BoG,EAAUrE,EAAM/B,IAAMqD,EAAMtB,EAAM/B,GAGpC,OAAOoG,IAQTE,cAAe,SAAUC,EAAMN,GAC7BA,EAAMA,GAAOV,EAAAvE,QAAgBwF,YAC7B,KACED,EAAOE,KAAKC,UAAUH,GACtB,MAAOI,GACPC,QAAQC,KAAKZ,GAGf,MAAOM,IAQTO,UAAW,SAAUP,EAAMN,GACzB,GAAIc,SAEJd,GAAMA,GAAOV,EAAAvE,QAAgBgG,UAC7B,KACED,EAAiBN,KAAKQ,MAAMV,GAC5B,MAAOI,GACPC,QAAQC,KAAKZ,GAGf,MAAOc,IJoaXzH,GAAQ0B,QIhaOyE,GJoaT,SAAUlG,EAAQD,EAASO,GAEjC,YAGAY,QAAOC,eAAepB,EAAS,cAC7BqC,UKxfF,IAAMuF,IACJV,aAAc,uBACdQ,WAAY,gCACZG,eAAgB,qCAChBC,aAAc,8CACdC,0BAA2B,0CAC3BC,gBAAiB,oDACjBC,qBAAsB,mDACtBC,aAAc,6ELigBhBlI,GAAQ0B,QK9fOkG,GLkgBT,SAAU3H,EAAQD,EAASO,GAEjC,YAGAY,QAAOC,eAAepB,EAAS,cAC7BqC,UMnhBF,IAAM8F,IACJC,KAAM,OACNvC,OAAQ,SACRwC,WAAY,aN4hBdrI,GAAQ0B,QMzhBOyG,GN6hBT,SAAUlI,EAAQD,EAASO,GAEjC,YAGAY,QAAOC,eAAepB,EAAS,cAC7BqC,UOziBF,IAAMiG,IACJC,MAAO,QACPC,KAAM,UPkjBRxI,GAAQ0B,QO/iBO4G,GPmjBT,SAAUrI,EAAQD,EAASO,GAEjC,YAGAY,QAAOC,eAAepB,EAAS,cAC7BqC;;;;;;;;AQxjBF,GAAIoG,SAEJA,GAAQ,WAIN,QAASA,MAwET,MAlEAA,GAAKC,SAAW,WACd,GAAIC,GAAOF,EAAKG,cACZC,EAAMJ,EAAKK,WAGf,OAAOD,GAAIF,EAAK,IAAK,GACnB,IACAE,EAAIF,EAAK,IAAK,GACd,IACAE,EAAI,MAASF,EAAK,IAAK,GACvB,IACAE,EAAI,MAASF,EAAK,IAAK,GACvB,IACAE,EAAIF,EAAK,IAAK,KAQlBF,EAAKG,cAAgB,SAAUG,GAC7B,MAAIA,GAAI,EACCC,IAELD,GAAK,GACC,EAAIE,KAAKC,UAAY,GAAKH,GAEhCA,GAAK,IACC,EAAIE,KAAKC,UAAY,GAAK,MAC/B,EAAID,KAAKC,UAAY,GAAKH,EAAI,MAAQ,GAAK,IAGzCC,KAQTP,EAAKU,eAAiB,SAAUC,GAC9B,MAAO,UAAUC,EAAK3G,GAKpB,IAJA,GAAI4G,GAAMD,EAAI9C,SAAS6C,GACnB1I,EAAIgC,EAAS4G,EAAI5G,OACjB6G,EAAI,IAED7I,EAAI,EAAGA,KAAO,EAAG6I,GAAKA,EACnB,EAAJ7I,IACF4I,EAAMC,EAAID,EAGd,OAAOA,KAIXb,EAAKK,YAAcL,EAAKU,eAAe,IAMvCV,EAAK5G,UAAU0E,SAAW,WACxB,MAAOlG,MAAKmJ,WAGPf,KRmkBTzI,EAAQ0B,QQhkBO+G,GRokBT,SAAUxI,EAAQD,EAASO,GAEjC,YAmBA,SAASkJ,GAAuBvD,GAAO,MAAOA,IAAOA,EAAIzE,WAAayE,GAAQxE,QAASwE,GAhBvF/E,OAAOC,eAAepB,EAAS,cAC7BqC,USrqBF,IAAAqH,GAAAnJ,EAAA,GT0qBIoJ,EAASF,EAAuBC,GSzqBpCE,EAAArJ,EAAA,GT6qBIsJ,EAAUJ,EAAuBG,GS5qBrCE,EAAAvJ,EAAA,GTgrBIwJ,EAAmBN,EAAuBK,GS9qB1CE,GACFC,UACAC,SACAC,YAMAC,KAAM,SAACC,GACL,IAAKA,EAAQ,KAAM,IAAIhH,OAAM,6BAE7B,IAA6C,oBAAzClC,OAAOU,UAAU0E,SAAS3F,KAAKyJ,GACjC,KAAM,IAAIhH,OAAM,2BAGlBgH,GAAKC,GAAKX,EAAAjI,QAAKgH,YAAcsB,EAAUE,MAAMxH,OAC7C2H,EAAKE,OAASR,EAAArI,QAAekE,OAC7ByE,EAAKG,OAAST,EAAArI,QAAeiE,QAC7BqE,EAAUE,MAAMxF,KAAK2F,GACrBL,EAAUS,cAAcJ,IAE1BI,cAAe,SAACJ,GACd,IAAKA,EAAQ,KAAM,IAAIhH,OAAM,6BAE7B,IAA6C,oBAAzClC,OAAOU,UAAU0E,SAAS3F,KAAKyJ,GAA+B,KAAM,IAAIhH,OAAM,2BAElF2G,GAAUG,SAASzF,KAAK2F,IAM1BK,QAAS,SAACJ,GACR,IAAKA,EAAM,KAAM,IAAIjH,OAAM,eAE3B,IAAIsH,WAGW,KADfA,EAAQd,EAAAnI,QAAWkJ,gBAAgBZ,EAAUE,MAAO,KAAMI,EAAI,WAE5DN,EAAUE,MAAMW,OAAOF,EAAO,IAKlCG,cAAe,SAACR,GACd,IAAKA,EAAM,KAAM,IAAIjH,OAAM,eAI3B,OAFWwG,GAAAnI,QAAWkJ,gBAAgBZ,EAAUG,SAAU,KAAMG,QASlE/I,IAAK,SAAC+I,GACJ,MAAKA,GAEMT,EAAAnI,QAAWkJ,gBAAgBZ,EAAUE,MAAO,KAAMI,OAF3CN,EAAUE,MAAM,QAUpCa,YAAa,WAGX,MADAlB,GAAAnI,QAAWsJ,iBAAiBhB,EAAUE,MAAO,YACtCF,EAAUzI,OAMnB0J,UAAW,WACT,MAAOjB,GAAUE,MAAMgB,OAAO,SAAAb,GAAA,MAAQA,GAAKE,SAAWR,EAAArI,QAAemE,UAMvEsF,aAAc,WACZ,MAAOnB,GAAUE,MAAMgB,OAAO,SAAAb,GAAA,MAAQA,GAAKE,SAAWR,EAAArI,QAAeqE,aAMvEqF,UAAW,WACT,MAAOpB,GAAUE,MAAMgB,OAAO,SAAAb,GAAA,MAAQA,GAAKE,SAAWR,EAAArI,QAAeoE,UAMvEuF,OAAQ,WACN,MAAOrB,GAAUE,OTwsBrBlK,GAAQ0B,QSpsBOsI,GTwsBT,SAAU/J,EAAQD,EAASO,GAEjC,YAGAY,QAAOC,eAAepB,EAAS,cAC7BqC,UUzzBF,IAAIiJ,MAQAC,GACFC,MAAO,QACPC,OAAQ,SACRC,KAAM,OAWRJ,GAAWV,gBAAkB,SAAC3D,EAAMpE,EAAKR,EAAOsJ,GAC9C,IAAK1E,IAASpE,EAAO,QAErB8I,GAAmBA,GAAoBJ,EAAqB,EAC5D,IAAI7K,UACAwF,SACA0F,SACAjB,GAAS,CAEb,KAAKjK,EAAI,EAAGA,EAAIuG,EAAKvE,OAAQhC,IAAK,CAGhC,GAFAwF,EAAMe,EAAKvG,IAENmL,MAAMxJ,IAAU6D,GAAO4F,SAAS5F,EAAIrD,GAAM,MAAQiJ,SAASzJ,EAAO,IAAK,CAC1EsI,EAAQjK,CACR,OACK,GAAImL,MAAMxJ,IAAU6D,GAAOA,EAAIrD,KAASR,EAAO,CACpDsI,EAAQjK,CACR,QAQJ,QAJe,IAAXiK,IACF1D,EAAK0D,OAGCgB,GACN,IAAKJ,GAAqBC,MACxBI,EAAajB,CACb,MACF,KAAKY,GAAqBG,KACxBE,GACE1F,IAAKe,EAAK0D,GACVA,MAAOA,EAET,MACF,KAAKY,GAAqBE,OAC1B,QACEG,EAAa3E,EAAK0D,GAItB,MAAOiB,IASTN,EAAWS,OAAS,SAACC,EAAKnJ,EAAKoJ,GAC7BD,EAAIE,KAAK,SAAUC,EAAGC,GACpB,MAAOH,GAAUG,EAAEvJ,GAAOsJ,EAAEtJ,GAAOsJ,EAAEtJ,GAAOuJ,EAAEvJ,MAUlDyI,EAAWN,iBAAmB,SAACgB,EAAKnJ,GAClCmJ,EAAIE,KAAK,SAAUC,EAAGC,GACpB,MAAID,GAAEtJ,GAAOuJ,EAAEvJ,IACL,EACCsJ,EAAEtJ,GAAOuJ,EAAEvJ,GACb,EAEF,KVm0BX7C,EAAQ0B,QU/zBO4J,GVm0BT,SAAUrL,EAAQD,EAASO,GAEjC,YAgCA,SAASkJ,GAAuBvD,GAAO,MAAOA,IAAOA,EAAIzE,WAAayE,GAAQxE,QAASwE,GA7BvF/E,OAAOC,eAAepB,EAAS,cAC7BqC,UAGF,IAAIgK,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUrG,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXoG,SAAyBpG,EAAI9B,cAAgBkI,QAAUpG,IAAQoG,OAAOzK,UAAY,eAAkBqE,IWx6BtQsG,EAAAjM,EAAA,GX+6BIkM,EAAYhD,EAAuB+C,GW96BvC5C,EAAArJ,EAAA,GXk7BIsJ,EAAUJ,EAAuBG,GWj7BrC8C,EAAAnM,EAAA,GXq7BIoM,EAAiBlD,EAAuBiD,GWn7B5CE,EAAArM,EAAA,GXu7BIsM,EAAqBpD,EAAuBmD,GWt7BhD5G,EAAAzF,EAAA,GX07BI0F,EAAoBwD,EAAuBzD,GWx7B3C8G,GACFC,WACA9C,UAMA+C,sBAAuB,WACrB,MAA6B,kBAAlBC,QAAOC,QACU,WAAzBb,EAAOY,OAAOC,SAA+D,kBAAjCA,QAAOrL,UAAUuC,aAYlEsG,QAAS,SAACyC,GACR,GAAIxC,SAEJA,GAAQd,EAAAnI,QAAWkJ,gBAAgBkC,EAAYC,QAAS,KAAMI,EAAO7C,GAAI,SACzEwC,EAAYC,QAAQlC,OAAOF,EAAO,IAQpCyC,OAAQ,SAACD,GACPL,EAAYC,QAAQrI,KAAKyI,IAO3BlC,UAAW,WACT,MAAO6B,GAAYC,QAAQ7B,OAAO,SAAAiC,GAAA,MAAUA,GAAO5C,SAAWsC,EAAAnL,QAAiBmE,UAMjFwH,QAAS,WACP,MAAOP,GAAYC,QAAQ7B,OAAO,SAAAiC,GAAA,MAAUA,GAAO5C,SAAWsC,EAAAnL,QAAiB0G,QAMjFkF,cAAe,WACb,MAAOR,GAAYC,QAAQ7B,OAAO,SAAAiC,GAAA,MAAUA,GAAO5C,SAAWsC,EAAAnL,QAAiB2G,cAOjFgD,OAAQ,WACN,MAAOyB,GAAYC,SAQrBQ,UAAW,SAACjD,GACV,IAAKA,EAEH,MADAhD,SAAQC,KAAKtB,EAAAvE,QAAgBmG,gBACtBiF,CAGT,IAAIK,GAAStD,EAAAnI,QAAWkJ,gBAAgBkC,EAAYC,QAAS,KAAMzC,EAAI,SAEvE,OAAI6C,IAAUA,EAAOA,QACnBA,EAAO5C,SAAWsC,EAAAnL,QAAiB2G,YAEnCf,QAAQC,KAAKtB,EAAAvE,QAAgBqG,2BACtB+E,IAGLK,GAAUA,EAAOA,QACnBA,EAAOA,OAAOI,YAEdJ,EAAOA,OAAOI,YACdJ,EAAO5C,OAASsC,EAAAnL,QAAiB2G,YAG5ByE,IAMTU,sBAAuB,SAACC,GACtB,MAAOX,GAAYY,gBAAmBD,GAAc,IAMtDC,aAAc,SAACC,EAAWF,GACxB,GAAI/M,UACFkN,QASF,KALEA,EAFED,KAEwBE,OAAOf,EAAYO,cAEnBQ,OAAOf,EAAY7B,aAAa4C,OAAOf,EAAYO,WAG1E3M,EAAI,EAAGA,EAAIkN,EAAqBlL,OAAQhC,IAAK,CAEhD,GAAIiN,GAAab,EAAYO,WAAaP,EAAYO,UAAU3K,QAAU+K,EACxE,MAAOX,EAGLc,GAAqBlN,IACvBkN,EAAqBlN,GAAGyM,QACxBS,EAAqBlN,GAAGyM,OAAOI,YAE/BK,EAAqBlN,GAAGyM,OAAOI,YAC/BK,EAAqBlN,GAAG6J,OAASsC,EAAAnL,QAAiB2G,YAItD,MAAOyE,IAMTgB,aAAc,SAAC7D,GACb,GAAIvJ,UACAqM,EAAUD,EAAY7B,eAE1B,KAAKvK,EAAI,EAAGA,EAAIqM,EAAQrK,OAAQhC,IAC9BoM,EAAYiB,YAAYhB,EAAQrM,GAAIuJ,EAGtC,OAAO6C,IAOTkB,YAAa,SAAC1D,EAAIL,GAChB,GAAIgE,UACAlB,KAAac,OAAOf,EAAY7B,aAAa4C,OAAOf,EAAYO,UAOpE,OALAY,GAAiBpE,EAAAnI,QAAWkJ,gBAAgBmC,EAAS,KAAMzC,GACvD2D,GACFnB,EAAYiB,YAAYE,EAAgBhE,GAGnC6C,GAOTiB,YAAa,SAACvL,EAAQyH,GACpB,GAAIiE,UACAC,IA2BJ,OAzBAlE,GAASA,MACLA,EAAOmE,QAAmC,kBAAlBnE,GAAOmE,SACjCnE,EAAOmE,OAASzB,EAAAjL,QAAa2E,kBAAkB4D,EAAOmE,QACtDD,MAGGlE,EAAOzE,WACVyE,EAAOzE,SAAWiH,EAAA/K,QAAQ2M,SAG5BH,GACE5D,GAAIL,EAAOK,GACXgE,OAAQrE,EAAOqE,OACfF,OAAQnE,EAAOmE,OACfG,OAAQtE,EAAOsE,OACfC,OAAQvE,EAAOuE,OACfL,mBAGFD,EAAMvB,EAAAjL,QAAasF,cAAckH,GAE7B1L,GAAUA,EAAOiM,aACnBjM,EAAOiM,YAAYP,GAGdjE,EAAOzE,SAASC,SX87B3BzF,GAAQ0B,QW17BOoL,GX87BT,SAAU7M,EAAQD,EAASO,GAEjC,YAmBA,SAASkJ,GAAuBvD,GAAO,MAAOA,IAAOA,EAAIzE,WAAayE,GAAQxE,QAASwE,GAhBvF/E,OAAOC,eAAepB,EAAS,cAC7BqC,UY1pCF,IAAAmK,GAAAjM,EAAA,GZ+pCIkM,EAAYhD,EAAuB+C,GY7pCvCkC,EAAAnO,EAAA,IZiqCIoO,EAAelF,EAAuBiF,GYhqC1CE,EAAArO,EAAA,IZoqCIsO,EAAiBpF,EAAuBmF,GY/pCtCxO,GACJ0O,qBACAC,uBACA/L,kBZ0qCFhD,GAAQ0B,QYvqCOtB,GZ2qCT,SAAUH,EAAQD,EAASO,GAEjC,YA2CA,SAASkJ,GAAuBvD,GAAO,MAAOA,IAAOA,EAAIzE,WAAayE,GAAQxE,QAASwE,GAEvF,QAASjE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCA1ChHjB,OAAOC,eAAepB,EAAS,cAC7BqC,UAGF,IAAI2M,GAAW7N,OAAO8N,QAAU,SAAUzM,GAAU,IAAK,GAAI9B,GAAI,EAAGA,EAAIwO,UAAUxM,OAAQhC,IAAK,CAAE,GAAIyO,GAASD,UAAUxO,EAAI,KAAK,GAAImC,KAAOsM,GAAchO,OAAOU,UAAUC,eAAelB,KAAKuO,EAAQtM,KAAQL,EAAOK,GAAOsM,EAAOtM,IAAY,MAAOL,IAEnPF,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI/B,GAAI,EAAGA,EAAI+B,EAAMC,OAAQhC,IAAK,CAAE,GAAIiC,GAAaF,EAAM/B,EAAIiC,GAAWrB,WAAaqB,EAAWrB,eAAqBqB,EAAWtB,gBAAyB,SAAWsB,KAAYA,EAAWC,aAAiBzB,OAAOC,eAAeoB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYN,UAAWiB,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MapsChiBiN,EAAA7O,EAAA,IbwsCI8O,EAAmB5F,EAAuB2F,GatsC9C5C,EAAAjM,EAAA,Gb0sCIkM,EAAYhD,EAAuB+C,GazsCvC8C,EAAA/O,EAAA,Gb6sCIgP,EAAc9F,EAAuB6F,Ga3sCzCE,EAAAjP,EAAA,Gb+sCIkP,EAAWhG,EAAuB+F,Ga7sCtCE,EAAAnP,EAAA,GbitCIoP,EAAqBlG,EAAuBiG,GahtChD5F,EAAAvJ,EAAA,GbotCIwJ,EAAmBN,EAAuBK,GantC9C8C,EAAArM,EAAA,GbutCIsM,EAAqBpD,EAAuBmD,GattChD5G,EAAAzF,EAAA,Gb0tCI0F,EAAoBwD,EAAuBzD,GavtCzC8I,Eb8tCW,WaxtCf,QAAAA,GAAY7E,GAAQhI,EAAA5B,KAAAyO,GAClB7E,EAASA,eAEEA,EAAOwD,aAChBxD,EAAOwD,WAAa,YAGXxD,EAAO2F,aAChB3F,EAAO2F,WAAc3C,OAAO4C,WAAa5C,OAAO4C,UAAUC,qBAAwB,GAIpF7F,EAAO2F,WAAa3G,KAAK8G,IAAI9F,EAAO2F,WAAY3F,EAAOwD,YAGvDpN,KAAK0M,QAAU0C,EAAA/N,QAAYqL,WAE3BiC,EAAc3O,KAAM4J,GACpB5J,KAAK4J,OAASA,EAEdwF,EAAA/N,QAAYuI,OAASA,EAErB5J,KAAK2P,Ob48CP,MAzOA1N,GAAawM,IACXjM,IAAK,gBAOLR,MAAO,WanuCP,MAAOoN,GAAA/N,QAAY2J,YbuuCnBxI,IAAK,mBAOLR,MAAO,WatuCP,MAAOoN,GAAA/N,QAAYuJ,eb0uCnBpI,IAAK,iBAOLR,MAAO,WazuCP,MAAOoN,GAAA/N,QAAY2L,ab6uCnBxK,IAAK,uBAOLR,MAAO,Wa5uCP,MAAOoN,GAAA/N,QAAY4L,mBbgvCnBzK,IAAK,sBAOLR,MAAO,Wa/uCP,MAAOoN,GAAA/N,QAAYgM,kBbmvCnB7K,IAAK,kBAOLR,MAAO,SanvCOiI,GACd,MAAOmF,GAAA/N,QAAY6L,UAAUjD,MbsvC7BzH,IAAK,eAOLR,MAAO,SatvCI6L,GACX,MAAOuB,GAAA/N,QAAYoM,aAAaI,MbyvChCrL,IAAK,cAOLR,MAAO,SazvCGiI,EAAI4D,GACd,MAAOuB,GAAA/N,QAAYsM,YAAY1D,EAAI4D,Mb4vCnCrL,IAAK,OAMLR,MAAO,Sa5vCJ+L,EAAQG,EAAQtE,GAEnB,GAAIsE,IAAW0B,MAAMC,QAAQ3B,GAC3B,KAAM,IAAInM,WAAU,sCAGjB6H,KACHA,KAGF,IAAIzE,GAAWiH,EAAA/K,QAAQ2M,QAEnBhE,IAaJ,OAXA2E,GAAc3E,EAAMJ,GACpB+E,EAAc3E,GACZ+D,OAAQA,EACRG,OAAQA,EACR/I,SAAUA,EACV2K,SAAWlG,GAAUA,EAAOkG,UAAapG,EAAArI,QAAe0O,MAG1D/P,KAAKgQ,UAAUjG,KAAKC,GACpBhK,KAAKiQ,iBAEE9K,EAASC,Wb+vChB5C,IAAK,iBACLR,MAAO,Wa7vCQ,GAAAkO,GAAAlQ,IACVA,MAAKgQ,UAAUnG,MAAMxH,QAExBwC,WAAW,WACTuK,EAAA/N,QAAY8L,sBAAsB+C,EAAKtG,OAAOwD,aAC7C,IAGL,IAAI+C,GAAiBnQ,KAAKgQ,UAAUtF,cAChC0F,EAAkBhB,EAAA/N,QAAY2L,UAAU,IAEvCoD,GAAoBhB,EAAA/N,QAAYuJ,YAAYvI,OAAS+M,EAAA/N,QAAY2L,UAAU3K,OAASrC,KAAK4J,OAAO2F,aAEnGvP,KAAKqQ,WACLD,EAAkBhB,EAAA/N,QAAY2L,UAAU,IAGtCoD,IACFD,EAAeG,kBAAoBF,EAAgBnG,GAGnDjK,KAAKgQ,UAAU3F,QAAQ8F,EAAelG,IAElCkG,EAAejG,SAAWR,EAAArI,QAAekE,SAC3C6K,EAAgBlG,OAASsC,EAAAnL,QAAiBmE,OAC1C2K,EAAejG,OAASR,EAAArI,QAAemE,OAGvC4K,EAAgBtD,OAAOY,YACrB0C,EAAgBtD,QACd7C,GAAImG,EAAgBnG,GACpB9E,SAAUgL,EAAehL,SACzB8I,OAAQkC,EAAelG,GACvB8D,OAAQoC,EAAepC,OACvBG,OAAQiC,EAAejC,OACvBC,OAAQmB,EAAAjO,QAAiB8G,OAE3B3E,KAAK,SAACoD,GACNwJ,EAAgBlG,OAASsC,EAAAnL,QAAiB0G,KACtCnB,GACFsJ,EAAKD,mBAGNxM,MAAM,SAACuD,GAEFoJ,EAAgBlG,SAAWsC,EAAAnL,QAAiB2G,YAC9CoH,EAAA/N,QAAY6L,UAAUkD,EAAgBnG,IAElCiG,EAAKtG,OAAOwD,YACd8C,EAAKK,qBAGPH,EAAgBlG,OAASsC,EAAAnL,QAAiB0G,KAE5CmI,EAAKD,wBbkwCbzN,IAAK,oBACLR,MAAO,Wa5vCP,IAAK,GAAI3B,GAAIL,KAAK0M,QAAQrK,OAAQhC,EAAIL,KAAK4J,OAAOwD,WAAY/M,IAC5DL,KAAKqQ,cbiwCP7N,IAAK,WAOLR,MAAO,Wa/vCP,GAAI4H,GAAS5J,KAAK4J,MAElB,KAAKA,EACH,KAAM,IAAI5G,OAAM4C,EAAAvE,QAAgBsG,gBAKlC,KAFUiC,EAAO4G,IAGf,KAAM,IAAIxN,OAAM4C,EAAAvE,QAAgBwG,aAKlC,OAFa,IAAAmH,GAAA3N,QAAmBuI,MbqwChCpH,IAAK,OAMLR,MAAO,WalwCP,IAAKoN,EAAA/N,QAAYsL,wBAEf,WADA1F,SAAQC,KAAKtB,EAAAvE,QAAgBuG,qBAI/B5H,MAAKgQ,UAALd,EAAA7N,QACArB,KAAKgQ,UAAUnG,SACf7J,KAAKgQ,UAAUlG,gBbuwCV2E,IAKT9O,GAAQ0B,QaxwCOoN,Gb4wCT,SAAU7O,EAAQD,EAASO,GAEjC,YAuCA,SAASkJ,GAAuBvD,GAAO,MAAOA,IAAOA,EAAIzE,WAAayE,GAAQxE,QAASwE,GAEvF,QAASjE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAtChHjB,OAAOC,eAAepB,EAAS,cAC7BqC,UAGF,IAAI2M,GAAW7N,OAAO8N,QAAU,SAAUzM,GAAU,IAAK,GAAI9B,GAAI,EAAGA,EAAIwO,UAAUxM,OAAQhC,IAAK,CAAE,GAAIyO,GAASD,UAAUxO,EAAI,KAAK,GAAImC,KAAOsM,GAAchO,OAAOU,UAAUC,eAAelB,KAAKuO,EAAQtM,KAAQL,EAAOK,GAAOsM,EAAOtM,IAAY,MAAOL,IAEnPF,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI/B,GAAI,EAAGA,EAAI+B,EAAMC,OAAQhC,IAAK,CAAE,GAAIiC,GAAaF,EAAM/B,EAAIiC,GAAWrB,WAAaqB,EAAWrB,eAAqBqB,EAAWtB,gBAAyB,SAAWsB,KAAYA,EAAWC,aAAiBzB,OAAOC,eAAeoB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYN,UAAWiB,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MczgDhiBuH,EAAAnJ,EAAA,Gd6gDIoJ,EAASF,EAAuBC,Gc5gDpC4F,EAAA/O,EAAA,GdghDIgP,EAAc9F,EAAuB6F,Gc/gDzCE,EAAAjP,EAAA,GdmhDIkP,EAAWhG,EAAuB+F,GclhDtC9C,EAAAnM,EAAA,GdshDIoM,EAAiBlD,EAAuBiD,GcrhD5C5C,EAAAvJ,EAAA,GdyhDIwJ,EAAmBN,EAAuBK,GcxhD9C8C,EAAArM,EAAA,Gd4hDIsM,EAAqBpD,EAAuBmD,Gc3hDhD8C,EAAAnP,EAAA,Gd+hDIoP,EAAqBlG,EAAuBiG,Gc5hD1CoB,EdmiDe,Wc/hDnB,QAAAA,GAAY7G,GAAQhI,EAAA5B,KAAAyQ,GAClBzQ,KAAK2P,KAAK/F,GdgqDZ,MAxHA3H,GAAawO,IACXjO,IAAK,UAGLR,MAAO,ScziDD0B,GAAO,GAAAwM,GAAAlQ,IACbA,MAAKkK,OAASsC,EAAAnL,QAAiB2G,UAC/B,IAAI0I,GAAcxB,EAAA7N,QAAUuJ,YACxB+F,IAEAD,IAAeA,EAAYrO,SAC7BsO,EAA6BD,EAAY7F,OAAO,SAAAb,GAAA,MAAQA,GAAKsG,oBAAsBJ,EAAKjG,KAG1F,KAAK,GAAI5J,GAAI,EAAGA,EAAIsQ,EAA2BtO,OAAQhC,IACrDsQ,EAA2BtQ,GAAG8E,SAAS9B,OAAOK,EAGhD,OAAOiN,MdgjDPnO,IAAK,oBAMLR,MAAO,WchjDW,GAAA4O,GAAA5Q,IAClBA,MAAK8M,OAAO+D,iBAAiB,UAAW7Q,KAAK8Q,gBAAgBC,KAAK/Q,UAElEA,KAAK8M,OAAO+D,iBAAiB,QAAS7Q,KAAKgR,QAAQD,KAAK/Q,OAExDA,KAAK8M,OAAO+D,iBAAiB,OAAQ,WACnC,GAAInN,GAAQ,GAAIV,OAAM,iCAEtB4N,GAAKI,QAAQtN,GAAOqN,KAApBH,QdsjDFpO,IAAK,kBACLR,MAAO,ScnjDOiP,GACd,IAAKA,IAAOA,EAAGrK,MAAQqK,EAAGrK,KAAKuH,SAAWmB,EAAAjO,QAAiB8G,KACzD,QAGF,IAAI6B,GAAOkF,EAAA7N,QAAUoJ,cAAcwG,EAAGrK,KAAKqH,OAE3C,OAAIgD,GAAGrK,KAAKlD,OACNsG,EAAK7E,UAA4C,kBAAzB6E,GAAK7E,SAAS9B,QACxC2G,EAAK7E,SAAS9B,OAAOiJ,EAAAjL,QAAamF,iBAAiByK,EAAGrK,KAAKlD,QAE7D1D,KAAKkR,iBAAmB,EACxBlR,KAAKmR,kBAAoB,GAAIC,MAC7BpH,EAAKE,OAASR,EAAArI,QAAeoE,OAC7BuE,EAAKG,OAAST,EAAArI,QAAeoE,OACzBuE,EAAKgH,SAAmC,kBAAjBhH,GAAKgH,SAC9BhH,EAAKgH,eAILhH,EAAK7E,UAA6C,kBAA1B6E,GAAK7E,SAAS/B,SACxC4G,EAAK7E,SAAS/B,QAAQ6N,EAAGrK,KAAKtD,QAEhCtD,KAAKqR,oBAAsB,EAC3BrR,KAAKsR,oBAAsB,GAAIF,MAC/BpH,EAAKE,OAASR,EAAArI,QAAeqE,UAC7BsE,EAAKG,OAAS8G,EAAGrK,KAAKtD,OAClB0G,EAAK5F,WAAuC,kBAAnB4F,GAAK5F,WAChC4F,EAAK5F,mBdwjDP5B,IAAK,OAOLR,MAAO,SctjDJ4H,GA+BH,MA9BAA,GAASA,MAET+E,EAAc3O,KAAM4J,GACpB5J,KAAKiK,GAAKX,EAAAjI,QAAKgH,YAAe+G,EAAA/N,QAAYqL,QAAQrK,OAAS,EAC3DrC,KAAKkK,OAASsC,EAAAnL,QAAiB0G,KAC/B/H,KAAKuR,WAAa,GAAIH,MACtBpR,KAAKsR,mBAAqB,KAC1BtR,KAAKqR,mBAAqB,EAC1BrR,KAAKkR,gBAAkB,EAEvBlR,KAAK8M,OAAS,GAAID,QAAOjD,EAAO4G,KAEhCpB,EAAA/N,QAAYqM,YAAY1N,KAAK8M,QAC3B7C,GAAIjK,KAAKiK,GACTkE,OAAQmB,EAAAjO,QAAiB6G,MACzBpF,QAAS,qBAIX6L,EAAc3O,KAAK8M,QACjBY,YAAa0B,EAAA/N,QAAYqM,cAI3B1N,KAAKwR,oBAGLpC,EAAA/N,QAAY0L,OAAO/M,MAGZA,Sd0jDFyQ,IAKT9Q,GAAQ0B,Qc3jDOoP,Gd+jDT,SAAU7Q,OAAQD,QAASO,qBAEjC,YAmBA,SAASkJ,wBAAuBvD,GAAO,MAAOA,IAAOA,EAAIzE,WAAayE,GAAQxE,QAASwE,GAEvF,QAASjE,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAlBhHjB,OAAOC,eAAepB,QAAS,cAC7BqC,UAGF,IAAI2M,UAAW7N,OAAO8N,QAAU,SAAUzM,GAAU,IAAK,GAAI9B,GAAI,EAAGA,EAAIwO,UAAUxM,OAAQhC,IAAK,CAAE,GAAIyO,GAASD,UAAUxO,EAAI,KAAK,GAAImC,KAAOsM,GAAchO,OAAOU,UAAUC,eAAelB,KAAKuO,EAAQtM,KAAQL,EAAOK,GAAOsM,EAAOtM,IAAY,MAAOL,IAEnPF,aAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI/B,GAAI,EAAGA,EAAI+B,EAAMC,OAAQhC,IAAK,CAAE,GAAIiC,GAAaF,EAAM/B,EAAIiC,GAAWrB,WAAaqB,EAAWrB,eAAqBqB,EAAWtB,gBAAyB,SAAWsB,KAAYA,EAAWC,aAAiBzB,OAAOC,eAAeoB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYN,UAAWiB,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MelsDhiBuK,cAAAnM,oBAAA,GfssDIoM,eAAiBlD,uBAAuBiD,eersD5CgD,kBAAAnP,oBAAA,GfysDIoP,mBAAqBlG,uBAAuBiG,mBetsD1CX,af6sDa,WevsDjB,QAAAA,cAAY9E,GAAQhI,gBAAA5B,KAAA0O,cACb9E,IACHA,MAGF+E,SAAc3O,KAAM4J,GACpB5J,KAAK4J,OAASA,EAEd5J,KAAKyR,WACA7H,EAAO8H,gBACV1R,KAAK2R,ef+zDT,MA5GA1P,cAAayM,eACXlM,IAAK,cACLR,MAAO,SejtDG6D,EAAK+L,GACXA,EACFxD,YAAYvI,EAAK+L,GAEjBxD,YAAYvI,MfqtDdrD,IAAK,gBACLR,MAAO,SeltDKyP,GACZ,IAAKA,GAAuD,oBAA5C3Q,OAAOU,UAAU0E,SAAS3F,KAAKkR,GAC7C,KAAM,IAAIzO,OAAM,wCAGlB,KAAK,GAAI+K,KAAU0D,GAAS,CAC1B,GAAIjN,GAAKiN,EAAQ1D,EAEb0D,GAAQhQ,eAAesM,IAAyB,kBAAPvJ,KAC3CxE,KAAKyR,QAAQ1D,GAAUvJ,OfutD3BhC,IAAK,YACLR,MAAO,QAAS6P,WentDRZ,IAAI,GAAAf,OAAAlQ,KACRsD,cAAQwO,kBAGZ,KADAA,YAAcxF,eAAAjL,QAAa8F,UAAU8J,GAAGrK,YACrBkL,YAAY3D,SAAWmB,mBAAAjO,QAAiB8G,MACzD,GAAI2J,YAAY/D,OAAQ,CACtB,GAAIgE,SAAUD,YAAY5D,MAE1B,KACE,GAAI8D,YAAKjE,aAGPiE,KADEF,YAAYhE,gBACRxB,eAAAjL,QAAa8E,oBAAoB2L,YAAY/D,QAE7C/N,KAAKyR,QAAQK,YAAY/D,QAGjCA,OAASkE,KAAK,IAAMD,IAAM,KAE1B1O,OAASyK,OAAOmE,MAAMnE,OAAQgE,SAC1BzF,eAAAjL,QAAa0E,UAAUzC,QACzBA,OAAOE,KAAK,SAAC2O,GACXjC,MAAKxC,aACHzD,GAAI6H,YAAY7H,GAChBgE,OAAQ6D,YAAY7D,OACpBE,OAAQ2D,YAAY3D,OACpB7K,OAAQ6O,EACRzO,MAAO,MACNuN,GAAGW,UAELnO,MAAM,SAACuD,GACNkJ,MAAKxC,aACHzD,GAAI6H,YAAY7H,GAChBgE,OAAQ6D,YAAY7D,OACpBE,OAAQ2D,YAAY3D,OACpB7K,OAAQ,KACRI,MAAO4I,eAAAjL,QAAagF,eAAeW,IAClCiK,GAAGW,UAGV5R,KAAK0N,aACHzD,GAAI6H,YAAY7H,GAChBgE,OAAQ6D,YAAY7D,OACpBE,OAAQ2D,YAAY3D,OACpB7K,OAAQA,OACRI,MAAO,MACNuN,GAAGW,QAER,MAAO5K,GACPhH,KAAK0N,aACHzD,GAAI6H,YAAY7H,GAChBgE,OAAQ6D,YAAY7D,OACpBE,OAAQ2D,YAAY3D,OACpB7K,OAAQ,KACRI,MAAO4I,eAAAjL,QAAagF,eAAeW,IAClCiK,GAAGW,cAIV5R,MAAK0N,aACHzD,GAAI6H,YAAY7H,GAChBgE,OAAQ6D,YAAY7D,OACpBE,OAAQ2D,YAAY3D,QACnB8C,GAAGW,Wf+tDRpP,IAAK,eACLR,MAAO,WextDPoQ,oBAAoB,UAAWpS,KAAK6R,UAAUd,KAAK/Q,OACnD6Q,iBAAiB,UAAW7Q,KAAK6R,UAAUd,KAAK/Q,Wf6tD3C0O,eAKT/O,SAAQ0B,QettDOqN","file":"super-workers.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SuperWorkers\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SuperWorkers\"] = factory();\n\telse\n\t\troot[\"SuperWorkers\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/*!\n * \n * super-workers \"1.0.2\"\n * https://github.com/softvar/super-workers.js\n * MIT LICENSE\n * \n * Copyright (C) 2017-2018 softvar - A project by Varun Malhotra(https://github.com/softvar)\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SuperWorkers\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SuperWorkers\"] = factory();\n\telse\n\t\troot[\"SuperWorkers\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 10);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Inspired from - @josdejong(Github) - Promise.js\n *\n * ES6 port\n *\n * Promise polyfill\n *\n * @param {Function} handler   Called as handler(resolve: Function, reject: Function)\n */\nvar Promise = function () {\n  function Promise(handler) {\n    _classCallCheck(this, Promise);\n\n    var self = this;\n    var _resolve2 = void 0,\n        _reject2 = void 0,\n        _process = void 0;\n\n    /**\n     * Create a cancellation error\n     * @param {String} [message]\n     * @extends Error\n     */\n    function CancellationError(message) {\n      this.message = message || 'promise cancelled';\n      this.stack = new Error().stack;\n    }\n\n    CancellationError.prototype = new Error();\n    CancellationError.prototype.constructor = Error;\n    CancellationError.prototype.name = 'CancellationError';\n\n    /**\n     * Create a timeout error\n     * @param {String} [message]\n     * @extends Error\n     */\n    function TimeoutError(message) {\n      this.message = message || 'timeout exceeded';\n      this.stack = new Error().stack;\n    }\n\n    TimeoutError.prototype = new Error();\n    TimeoutError.prototype.constructor = Error;\n    TimeoutError.prototype.name = 'TimeoutError';\n\n    this.CancellationError = CancellationError;\n    this.TimeoutError = TimeoutError;\n\n    /**\n     * Add an onFail callback to the Promise\n     * @param {Function} onFail\n     * @returns {Promise} promise\n     */\n    this['catch'] = function (onFail) {\n      // eslint-disable-line\n      return this.then(null, onFail);\n    };\n\n    if (!(this instanceof Promise)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n\n    if (typeof handler !== 'function') {\n      throw new SyntaxError('Function parameter handler(resolve, reject) missing');\n    }\n\n    var _onSuccess = [];\n    var _onFail = [];\n\n    /**\n     * Process onSuccess and onFail callbacks: add them to the queue.\n     * Once the promise is resolve, the function _promise is replace.\n     * @param {Function} onSuccess\n     * @param {Function} onFail\n     * @private\n     */\n    _process = function _process(onSuccess, onFail) {\n      _onSuccess.push(onSuccess);\n      _onFail.push(onFail);\n    };\n\n    /**\n     * Execute given callback, then call resolve/reject based on the returned result\n     * @param {Function} callback\n     * @param {Function} resolve\n     * @param {Function} reject\n     * @returns {Function}\n     * @private\n     */\n    function _then(callback, resolve, reject) {\n      return function (result) {\n        try {\n          var res = callback(result);\n\n          if (res && typeof res.then === 'function' && typeof res['catch'] === 'function') {\n            // method returned a promise\n            res.then(resolve, reject);\n          } else {\n            resolve(res);\n          }\n        } catch (error) {\n          reject(error);\n        }\n      };\n    }\n\n    /**\n     * Add an onSuccess callback and optionally an onFail callback to the Promise\n     * @param {Function} onSuccess\n     * @param {Function} [onFail]\n     * @returns {Promise} promise\n     */\n    this.then = function (onSuccess, onFail) {\n      return new Promise(function (resolve, reject) {\n        var s = onSuccess ? _then(onSuccess, resolve, reject) : resolve;\n        var f = onFail ? _then(onFail, resolve, reject) : reject;\n\n        _process(s, f);\n      }, self);\n    };\n\n    /**\n     * Resolve the promise\n     * @param {*} result\n     * @type {Function}\n     */\n    _resolve2 = function _resolve(result) {\n      _onSuccess.forEach(function (fn) {\n        fn(result);\n      });\n\n      _process = function _process(onSuccess, onFail) {\n        onSuccess(result);\n      };\n\n      _resolve2 = _reject2 = function _reject() {\n        throw new Error('Promise is already resolved');\n      };\n\n      return self;\n    };\n\n    /**\n     * Reject the promise\n     * @param {Error} error\n     * @type {Function}\n     */\n    _reject2 = function _reject(error) {\n      _onFail.forEach(function (fn) {\n        fn(error);\n      });\n\n      _process = function _process(onSuccess, onFail) {\n        onFail(error);\n      };\n\n      _resolve2 = _reject2 = function _reject() {\n        throw new Error('Promise is already resolved');\n      };\n\n      return self;\n    };\n\n    /**\n     * Cancel te promise. This will reject the promise with a CancellationError\n     * @returns {Promise} self\n     */\n    this.cancel = function () {\n      _reject2(new CancellationError());\n\n      return self;\n    };\n\n    /**\n     * Set a timeout for the promise. If the promise is not resolved within\n     * the time, the promise will be cancelled and a TimeoutError is thrown.\n     * If the promise is resolved in time, the timeout is removed.\n     * @param {number} delay     Delay in milliseconds\n     * @returns {Promise} self\n     */\n    this.timeout = function (delay) {\n      var timer = setTimeout(function () {\n        _reject2(new TimeoutError('Promise timed out after ' + delay + ' ms'));\n      }, delay);\n\n      self.always(function () {\n        clearTimeout(timer);\n      });\n\n      return self;\n    };\n\n    // attach handler passing the resolve and reject functions\n    handler(function (result) {\n      _resolve2(result);\n    }, function (error) {\n      _reject2(error);\n    });\n  }\n\n  // TODO: add support for Promise.catch(Error, callback)\n  // TODO: add support for Promise.catch(Error, Error, callback)\n\n  /**\n   * Execute given callback when the promise either resolves or rejects.\n   * @param {Function} fn\n   * @returns {Promise} promise\n   */\n\n\n  _createClass(Promise, [{\n    key: 'always',\n    value: function always(fn) {\n      return this.then(fn, fn);\n    }\n\n    /**\n     * Create a promise which resolves when all provided promises are resolved,\n     * and fails when any of the promises resolves.\n     * @param {Promise[]} promises\n     * @returns {Promise} promise\n     */\n\n  }], [{\n    key: 'all',\n    value: function all(promises) {\n      return new Promise(function (resolve, reject) {\n        var remaining = promises.length;\n        var results = [];\n\n        if (remaining) {\n          promises.forEach(function (p, i) {\n            p.then(function (result) {\n              results[i] = result;\n              remaining--;\n              if (remaining === 0) {\n                resolve(results);\n              }\n            }, function (error) {\n              remaining = 0;\n              reject(error);\n            });\n          });\n        } else {\n          resolve(results);\n        }\n      });\n    }\n\n    /**\n     * Create a promise resolver\n     * @returns {{promise: Promise, resolve: Function, reject: Function}} resolver\n     */\n\n  }, {\n    key: 'defer',\n    value: function defer() {\n      var resolver = {};\n\n      resolver.promise = new Promise(function (resolve, reject) {\n        resolver.resolve = resolve;\n        resolver.reject = reject;\n      });\n\n      return resolver;\n    }\n  }]);\n\n  return Promise;\n}();\n\nexports.default = Promise;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Enum for Worker status(still active / idle) used for client-worker-communication\n * @type {Object}\n */\nvar TaskStatusEnum = {\n  PENDING: 'pending',\n  QUEUED: 'queued',\n  ACTIVE: 'active',\n  FAILED: 'failed',\n  COMPLETED: 'completed'\n};\n\nexports.default = TaskStatusEnum;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _WarningTextEnum = __webpack_require__(3);\n\nvar _WarningTextEnum2 = _interopRequireDefault(_WarningTextEnum);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GeneralUtils = {\n  isPromise: function isPromise(value) {\n    return value && typeof value.then === 'function';\n  },\n  serializeFunction: function serializeFunction(fn) {\n    if (!fn || typeof fn !== 'function') {\n      return false;\n    }\n\n    return encodeURI(fn.toString());\n  },\n  deSerializeFunction: function deSerializeFunction(fn) {\n    if (!fn || typeof fn !== 'string') {\n      return false;\n    }\n\n    return decodeURI(fn);\n  },\n  serializeError: function serializeError(error) {\n    var i = void 0;\n    var err = {};\n    var errProps = ['name', 'message', 'stack', 'custom'];\n\n    if (error instanceof Error) {\n      for (i = errProps.length - 1; i >= 0; i--) {\n        err[errProps[i]] = error[errProps[i]];\n      }\n      return err;\n    }\n\n    return err;\n  },\n  deSerializeError: function deSerializeError(error) {\n    var i = void 0;\n    var fakeError = new Error('');\n\n    if (!error) {\n      return fakeError;\n    }\n\n    var props = Object.keys(error);\n\n    for (i = 0; i < props.length; i++) {\n      fakeError[props[i]] = error[props[i]];\n    }\n\n    return fakeError;\n  },\n  /**\n   * Stringify Object\n   * @param  {String} data\n   * @param  {String} err  - Message to be thrown if not valid object\n   * @return {Object}      - stringified json\n   */\n  stringifyJson: function stringifyJson(data, err) {\n    err = err || _WarningTextEnum2.default.INVALID_JSON;\n    try {\n      data = JSON.stringify(data);\n    } catch (e) {\n      console.warn(err);\n    }\n\n    return data;\n  },\n  /**\n   * Parse sringified data\n   * @param  {String} data\n   * @param  {String} err  - Message to be thrown if not valid json\n   * @return {Object}      - parsed json\n   */\n  parseJson: function parseJson(data, err) {\n    var jsonParsedData = void 0;\n\n    err = err || _WarningTextEnum2.default.PARSE_JSON;\n    try {\n      jsonParsedData = JSON.parse(data);\n    } catch (e) {\n      console.warn(err);\n    }\n\n    return jsonParsedData;\n  }\n};\n\nexports.default = GeneralUtils;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Enum for showing various warnings to suser when things done wrong\n * @type {Object}\n */\nvar WarningTextEnum = {\n  INVALID_JSON: 'Invalid JSON Object!',\n  PARSE_JSON: 'Can not parse stringifed data',\n  NO_ID_PROVIDED: 'Valid worker id should be provided',\n  INVALID_DATA: 'Some wrong message is being sent by Parent.',\n  WORKER_ALREADY_TERMINATED: 'Web Worker has already been terminated.',\n  CONFIG_REQUIRED: 'Configuration options required. Please read docs.',\n  WORKER_NOT_SUPPORTED: 'Web Worker not supported on this browser version',\n  URL_REQUIRED: 'Url is needed for creating and opening a new window/tab. Please read docs.'\n};\n\nexports.default = WarningTextEnum;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Enum for Worker status(still active / idle) used for client-worker-communication\n * @type {Object}\n */\nvar WorkerStatusEnum = {\n  IDLE: 'idle',\n  ACTIVE: 'active',\n  TERMINATED: 'terminated'\n};\n\nexports.default = WorkerStatusEnum;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Enum for Worker action\n * @type {Object}\n */\nvar WorkerActionEnum = {\n  READY: 'ready',\n  EXEC: 'execute'\n};\n\nexports.default = WorkerActionEnum;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * UUID.js: The RFC-compliant UUID generator for JavaScript.\n * ES6 port of only `generate` method of UUID by Varun Malhotra under MIT License\n *\n * @author  LiosK\n * @version v3.3.0\n * @license The MIT License: Copyright (c) 2010-2016 LiosK.\n */\n\n/** @constructor */\nvar UUID = void 0;\n\nUUID = function () {\n  'use strict';\n\n  /** @lends UUID */\n\n  function UUID() {}\n\n  /**\n   * The simplest function to get an UUID string.\n   * @returns {string} A version 4 UUID string.\n   */\n  UUID.generate = function () {\n    var rand = UUID._getRandomInt;\n    var hex = UUID._hexAligner;\n\n    // [\"timeLow\", \"timeMid\", \"timeHiAndVersion\", \"clockSeqHiAndReserved\", \"clockSeqLow\", \"node\"]\n    return hex(rand(32), 8) + // time_low\n    '-' + hex(rand(16), 4) + // time_mid\n    '-' + hex(0x4000 | rand(12), 4) + // time_hi_and_version\n    '-' + hex(0x8000 | rand(14), 4) + // clock_seq_hi_and_reserved clock_seq_low\n    '-' + hex(rand(48), 12); // node\n  };\n\n  /**\n   * Returns an unsigned x-bit random integer.\n   * @param {int} x A positive integer ranging from 0 to 53, inclusive.\n   * @returns {int} An unsigned x-bit random integer (0 <= f(x) < 2^x).\n   */\n  UUID._getRandomInt = function (x) {\n    if (x < 0) {\n      return NaN;\n    }\n    if (x <= 30) {\n      return 0 | Math.random() * (1 << x);\n    }\n    if (x <= 53) {\n      return (0 | Math.random() * (1 << 30)) + (0 | Math.random() * (1 << x - 30)) * (1 << 30);\n    }\n\n    return NaN;\n  };\n\n  /**\n   * Returns a function that converts an integer to a zero-filled string.\n   * @param {int} radix\n   * @returns {function(num&#44; length)}\n   */\n  UUID._getIntAligner = function (radix) {\n    return function (num, length) {\n      var str = num.toString(radix);\n      var i = length - str.length;\n      var z = '0';\n\n      for (; i > 0; i >>>= 1, z += z) {\n        if (i & 1) {\n          str = z + str;\n        }\n      }\n      return str;\n    };\n  };\n\n  UUID._hexAligner = UUID._getIntAligner(16);\n\n  /**\n   * Returns UUID string representation.\n   * @returns {string} {@link UUID#hexString}.\n   */\n  UUID.prototype.toString = function () {\n    return this.hexString;\n  };\n\n  return UUID;\n}(UUID);\n\nexports.default = UUID;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _uuid = __webpack_require__(6);\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _array = __webpack_require__(8);\n\nvar _array2 = _interopRequireDefault(_array);\n\nvar _TaskStatusEnum = __webpack_require__(1);\n\nvar _TaskStatusEnum2 = _interopRequireDefault(_TaskStatusEnum);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TaskQueue = {\n  config: {},\n  tasks: [],\n  allTasks: [],\n\n  /**\n   * Add task to the queue\n   * @param {Object} task - with proper config\n   */\n  _add: function _add(task) {\n    if (!task) {\n      throw new Error('No task passed for queuing');\n    }\n\n    if (Object.prototype.toString.call(task) !== '[object Object]') {\n      throw new Error('Task should be an object');\n    }\n\n    task.id = _uuid2.default.generate() || TaskQueue.tasks.length;\n    task.status = _TaskStatusEnum2.default.QUEUED;\n    task.output = _TaskStatusEnum2.default.PENDING;\n    TaskQueue.tasks.push(task);\n    TaskQueue._addToAllList(task);\n  },\n  _addToAllList: function _addToAllList(task) {\n    if (!task) {\n      throw new Error('No task passed for queuing');\n    }\n\n    if (Object.prototype.toString.call(task) !== '[object Object]') {\n      throw new Error('Task should be an object');\n    }\n\n    TaskQueue.allTasks.push(task);\n  },\n  /**\n   * Remove a task from the queue\n   * @param {Number} task\n   */\n  _remove: function _remove(id) {\n    if (!id) {\n      throw new Error('No id passed');\n    }\n\n    var index = void 0;\n\n    index = _array2.default.searchByKeyName(TaskQueue.tasks, 'id', id, 'index');\n    if (index !== -1) {\n      TaskQueue.tasks.splice(index, 1);\n    }\n\n    return undefined;\n  },\n  _getCompleted: function _getCompleted(id) {\n    if (!id) {\n      throw new Error('No id passed');\n    }\n\n    var task = _array2.default.searchByKeyName(TaskQueue.allTasks, 'id', id);\n\n    return task || {};\n  },\n  /**\n   * Get the task from the queue\n   * @param {id} task\n   * @return {Object} task being queried or an empty Object(if not found)\n   */\n  get: function get(id) {\n    if (!id) {\n      return TaskQueue.tasks[0] || {};\n    }\n\n    var task = _array2.default.searchByKeyName(TaskQueue.tasks, 'id', id);\n\n    return task || {};\n  },\n  /**\n   * Get next available task from the queue\n   * @return {Object} task being queried or an empty Object(if not found)\n   */\n  getNextTask: function getNextTask() {\n    // Sort as per task priorities\n    _array2.default.sortOnStringType(TaskQueue.tasks, 'priority');\n    return TaskQueue.get();\n  },\n  /**\n   * Filter out all the active tasks\n   * @return {Array} - only the active tasks\n   */\n  getActive: function getActive() {\n    return TaskQueue.tasks.filter(function (task) {\n      return task.status === _TaskStatusEnum2.default.ACTIVE;\n    });\n  },\n  /**\n   * Filter out all the completed tasks\n   * @return {Array} - only the completed tasks\n   */\n  getCompleted: function getCompleted() {\n    return TaskQueue.tasks.filter(function (task) {\n      return task.status === _TaskStatusEnum2.default.COMPLETED;\n    });\n  },\n  /**\n   * Filter out all the failed tasks\n   * @return {Array} - only the failed tasks\n   */\n  getFailed: function getFailed() {\n    return TaskQueue.tasks.filter(function (task) {\n      return task.status === _TaskStatusEnum2.default.FAILED;\n    });\n  },\n  /**\n   * To get list of all tasks\n   * @return {Array} - list of all tasks\n   */\n  getAll: function getAll() {\n    return TaskQueue.tasks;\n  }\n};\n\nexports.default = TaskQueue;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar ArrayUtils = {};\n\n/**\n * Different type of data needed after searching an item(Object) within data(Array of Objects).\n * 1. `INDEX` returns just the index at which the item was present\n * 2. `OBJECT` returns the matched object\n * 3. `BOTH` returns an object { obj: matched_object, index: index_found }\n */\nvar returnPreferenceEnum = {\n  INDEX: 'index',\n  OBJECT: 'object',\n  BOTH: 'both'\n};\n\n/**\n * Search for an item(Object) within a data-set(Array Of Objects)\n * @param  {Array of Objects} data\n * @param  {String} key - Unique key to search on the basis of\n * @param  {String} value - The matching criteria\n * @param  {String} returnPreference - what kind of output is needed\n * @return {Object}\n */\nArrayUtils.searchByKeyName = function (data, key, value, returnPreference) {\n  if (!data || !key) {\n    return false;\n  }\n\n  returnPreference = returnPreference || returnPreferenceEnum[1]; // default to Object\n  var i = void 0;\n  var obj = void 0;\n  var returnData = void 0;\n  var index = -1;\n\n  for (i = 0; i < data.length; i++) {\n    obj = data[i];\n    // Number matching support\n    if (!isNaN(value) && obj && parseInt(obj[key], 10) === parseInt(value, 10)) {\n      index = i;\n      break;\n    } else if (isNaN(value) && obj && obj[key] === value) {\n      // String exact matching support\n      index = i;\n      break;\n    }\n  }\n\n  if (index === -1) {\n    // item not found\n    data[index] = {}; // for consistency\n  }\n\n  switch (returnPreference) {\n    case returnPreferenceEnum.INDEX:\n      returnData = index;\n      break;\n    case returnPreferenceEnum.BOTH:\n      returnData = {\n        obj: data[index],\n        index: index\n      };\n      break;\n    case returnPreferenceEnum.OBJECT:\n    default:\n      returnData = data[index];\n      break;\n  }\n\n  return returnData;\n};\n\n/**\n * Sort array based on key defined.\n * @param {Array} arr - Array to be sorted\n * @param {String} key - key on which sort is required\n * @param {Boolean} orederBy - Sort in asc/desc order. If nothing is specified, it's ascending order.\n */\nArrayUtils.sortOn = function (arr, key, orderBy) {\n  arr.sort(function (a, b) {\n    return orderBy ? b[key] - a[key] : a[key] - b[key];\n  });\n};\n\n/**\n * Sort array based on key:String defined.\n * @param {Array} arr - Array to be sorted\n * @param {String} key - key on which sort is required\n * @param {Boolean} orederBy - Sort in asc/desc order. If nothing is specified, it's ascending order.\n */\nArrayUtils.sortOnStringType = function (arr, key) {\n  arr.sort(function (a, b) {\n    if (a[key] < b[key]) {\n      return -1;\n    } else if (a[key] > b[key]) {\n      return 1;\n    }\n    return 0;\n  });\n};\n\nexports.default = ArrayUtils;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * A Tab utility file to deal with tab operations\n                                                                                                                                                                                                                                                                               */\n\n\nvar _Promise = __webpack_require__(0);\n\nvar _Promise2 = _interopRequireDefault(_Promise);\n\nvar _array = __webpack_require__(8);\n\nvar _array2 = _interopRequireDefault(_array);\n\nvar _generalUtils = __webpack_require__(2);\n\nvar _generalUtils2 = _interopRequireDefault(_generalUtils);\n\nvar _WorkerStatusEnum = __webpack_require__(4);\n\nvar _WorkerStatusEnum2 = _interopRequireDefault(_WorkerStatusEnum);\n\nvar _WarningTextEnum = __webpack_require__(3);\n\nvar _WarningTextEnum2 = _interopRequireDefault(_WarningTextEnum);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar WorkerUtils = {\n  workers: [],\n  config: {},\n\n  /**\n   * Check is worker is present on window\n   * @return {Boolean} [description]\n   */\n  _isWebWorkerSupported: function _isWebWorkerSupported() {\n    if (typeof window.Worker === 'function' || _typeof(window.Worker) === 'object' || typeof Worker.prototype.constructor === 'function') {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * Remove a tab from a list of all workers.\n   * This is required when users opts for removing the idle workers from the list of workers.\n   * This can be done explictly by passing `removeidleworkers` key while instantiating Parent.\n   * @param  {Object} tab\n   */\n  _remove: function _remove(worker) {\n    var index = void 0;\n\n    index = _array2.default.searchByKeyName(WorkerUtils.workers, 'id', worker.id, 'index');\n    WorkerUtils.workers.splice(index, 1);\n  },\n\n  /**\n   * Add a new worker to the Array of workers\n   * @param  {Object} worker\n   * @return {Object} - this\n   */\n  addNew: function addNew(worker) {\n    WorkerUtils.workers.push(worker);\n    return undefined;\n  },\n  /**\n   * Filter out all the active workers\n   * @return {Array} - only the active workers\n   */\n  getActive: function getActive() {\n    return WorkerUtils.workers.filter(function (worker) {\n      return worker.status === _WorkerStatusEnum2.default.ACTIVE;\n    });\n  },\n  /**\n   * Filter out all the idle workers\n   * @return {Array} - only the idle workers\n   */\n  getIdle: function getIdle() {\n    return WorkerUtils.workers.filter(function (worker) {\n      return worker.status === _WorkerStatusEnum2.default.IDLE;\n    });\n  },\n  /**\n   * Filter out all the terminated workers\n   * @return {Array} - only the idle workers\n   */\n  getTerminated: function getTerminated() {\n    return WorkerUtils.workers.filter(function (worker) {\n      return worker.status === _WorkerStatusEnum2.default.TERMINATED;\n    });\n  },\n  /**\n   * To get list of all workers(idle/active).\n   * Note: idle workers will not be returned if `removeidleworkers` key is paased while instantiaiting Parent.\n   * @return {Array} - list of all workers\n   */\n  getAll: function getAll() {\n    return WorkerUtils.workers;\n  },\n\n  /**\n   * Terminate a specific tab\n   * @param  {String} id\n   * @return {Object} this\n   */\n  terminate: function terminate(id) {\n    if (!id) {\n      console.warn(_WarningTextEnum2.default.NO_ID_PROVIDED);\n      return WorkerUtils;\n    }\n\n    var worker = _array2.default.searchByKeyName(WorkerUtils.workers, 'id', id, 'object');\n\n    if (worker && worker.worker && worker.status === _WorkerStatusEnum2.default.TERMINATED) {\n      console.warn(_WarningTextEnum2.default.WORKER_ALREADY_TERMINATED);\n      return WorkerUtils;\n    }\n\n    if (worker && worker.worker && worker.worker.terminate) {\n      worker.worker.terminate();\n      worker.status = _WorkerStatusEnum2.default.TERMINATED;\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Terminate all (active+idle) workers using a native method `Terminate` available on window.open reference.\n   * @return {WorkerUtils} this\n   */\n  terminateAllExceptOne: function terminateAllExceptOne(minWorkers) {\n    return WorkerUtils.terminateAll(true, minWorkers || 1);\n  },\n  /**\n   * Terminate all active workers using a native method `Terminate` available on window.open reference.\n   * @return {WorkerUtils} this\n   */\n  terminateAll: function terminateAll(exceptOne, minWorkers) {\n    var i = void 0,\n        nonTerminatedWorkers = void 0;\n\n    if (exceptOne) {\n      // terminate only idle workers\n      nonTerminatedWorkers = [].concat(WorkerUtils.getIdle());\n    } else {\n      nonTerminatedWorkers = [].concat(WorkerUtils.getActive()).concat(WorkerUtils.getIdle());\n    }\n\n    for (i = 0; i < nonTerminatedWorkers.length; i++) {\n      // ensure minWorkers should be there\n      if (exceptOne && WorkerUtils.getIdle() && WorkerUtils.getIdle().length <= minWorkers) {\n        return WorkerUtils;\n      }\n\n      if (nonTerminatedWorkers[i] && nonTerminatedWorkers[i].worker && nonTerminatedWorkers[i].worker.terminate) {\n        nonTerminatedWorkers[i].worker.terminate();\n        nonTerminatedWorkers[i].status = _WorkerStatusEnum2.default.TERMINATED;\n      }\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postmessage to every active Child tab(excluding itself i.e Parent Tab)\n   * @param  {String} config\n   */\n  broadCastAll: function broadCastAll(config) {\n    var i = void 0;\n    var workers = WorkerUtils.getActive() || [];\n\n    for (i = 0; i < workers.length; i++) {\n      WorkerUtils.sendMessage(workers[i], config);\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postmessage to a specific Child tab\n   * @param  {String} id\n   * @param  {String} config\n   */\n  broadCastTo: function broadCastTo(id, config) {\n    var targetedWorker = void 0;\n    var workers = [].concat(WorkerUtils.getActive()).concat(WorkerUtils.getIdle());\n\n    targetedWorker = _array2.default.searchByKeyName(workers, 'id', id);\n    if (targetedWorker) {\n      WorkerUtils.sendMessage(targetedWorker, config);\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postMessage to the desired window/frame\n   * @param  {Object}  target\n   * @param  {String}  msg\n   */\n  sendMessage: function sendMessage(target, config) {\n    var msg = void 0;\n    var isEncodedMethod = false;\n\n    config = config || {};\n    if (config.method && typeof config.method === 'function') {\n      config.method = _generalUtils2.default.serializeFunction(config.method);\n      isEncodedMethod = true;\n    }\n\n    if (!config.resolver) {\n      config.resolver = _Promise2.default.defer();\n    }\n\n    msg = {\n      id: config.id,\n      taskId: config.taskId,\n      method: config.method,\n      params: config.params,\n      action: config.action,\n      isEncodedMethod: isEncodedMethod\n    };\n\n    msg = _generalUtils2.default.stringifyJson(msg);\n\n    if (target && target.postMessage) {\n      target.postMessage(msg);\n    }\n\n    return config.resolver.promise;\n  }\n};\n\nexports.default = WorkerUtils;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Promise = __webpack_require__(0);\n\nvar _Promise2 = _interopRequireDefault(_Promise);\n\nvar _MainThread = __webpack_require__(11);\n\nvar _MainThread2 = _interopRequireDefault(_MainThread);\n\nvar _WorkerThread = __webpack_require__(13);\n\nvar _WorkerThread2 = _interopRequireDefault(_WorkerThread);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Expose Parent and Child modules on SuperWorkers Object\n * @type {Object}\n */\nvar SuperWorkers = {\n  MainThread: _MainThread2.default,\n  WorkerThread: _WorkerThread2.default,\n  Promise: _Promise2.default\n};\n\nexports.default = SuperWorkers;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _RegisterWorker = __webpack_require__(12);\n\nvar _RegisterWorker2 = _interopRequireDefault(_RegisterWorker);\n\nvar _Promise = __webpack_require__(0);\n\nvar _Promise2 = _interopRequireDefault(_Promise);\n\nvar _TaskQueue = __webpack_require__(7);\n\nvar _TaskQueue2 = _interopRequireDefault(_TaskQueue);\n\nvar _worker = __webpack_require__(9);\n\nvar _worker2 = _interopRequireDefault(_worker);\n\nvar _WorkerActionEnum = __webpack_require__(5);\n\nvar _WorkerActionEnum2 = _interopRequireDefault(_WorkerActionEnum);\n\nvar _TaskStatusEnum = __webpack_require__(1);\n\nvar _TaskStatusEnum2 = _interopRequireDefault(_TaskStatusEnum);\n\nvar _WorkerStatusEnum = __webpack_require__(4);\n\nvar _WorkerStatusEnum2 = _interopRequireDefault(_WorkerStatusEnum);\n\nvar _WarningTextEnum = __webpack_require__(3);\n\nvar _WarningTextEnum2 = _interopRequireDefault(_WarningTextEnum);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Named Class expression\nvar MainThread = function () {\n  /**\n   * Involed when object is instantiated\n   * Set flags/variables and calls init method to attach event listeners\n   * @param  {Object} config - Refer API/docs for config keys\n   */\n  function MainThread(config) {\n    _classCallCheck(this, MainThread);\n\n    config = config || {};\n\n    if (typeof config.minWorkers === 'undefined') {\n      config.minWorkers = 1;\n    }\n\n    if (typeof config.maxWorkers === 'undefined') {\n      config.maxWorkers = window.navigator && window.navigator.hardwareConcurrency || 3;\n    }\n\n    // max workers should not be less than min workers\n    config.maxWorkers = Math.max(config.maxWorkers, config.minWorkers);\n\n    // reset workers with every new Object\n    this.workers = _worker2.default.workers = [];\n\n    _extends(this, config);\n    this.config = config;\n\n    _worker2.default.config = config;\n\n    this.init();\n  }\n\n  _createClass(MainThread, [{\n    key: 'getAllWorkers',\n\n\n    /**\n     * Return list of all workers\n     * @return {Array}\n     */\n    value: function getAllWorkers() {\n      return _worker2.default.getAll();\n    }\n  }, {\n    key: 'getActiveWorkers',\n\n\n    /**\n     * Return list of all ACTIVE workers\n     * @return {Array}\n     */\n    value: function getActiveWorkers() {\n      return _worker2.default.getActive();\n    }\n  }, {\n    key: 'getIdleWorkers',\n\n\n    /**\n     * Return list of all IDLE workers\n     * @return {Array}\n     */\n    value: function getIdleWorkers() {\n      return _worker2.default.getIdle();\n    }\n  }, {\n    key: 'getTerminatedWorkers',\n\n\n    /**\n     * Return list of all CLOSED workers\n     * @return {Array}\n     */\n    value: function getTerminatedWorkers() {\n      return _worker2.default.getTerminated();\n    }\n  }, {\n    key: 'terminateAllWorkers',\n\n\n    /**\n     * Terminate all workers at once\n     * @return {Object}\n     */\n    value: function terminateAllWorkers() {\n      return _worker2.default.terminateAll();\n    }\n  }, {\n    key: 'terminateWorker',\n\n\n    /**\n     * Terminate a specific worker\n     * @return {Object}\n     */\n    value: function terminateWorker(id) {\n      return _worker2.default.terminate(id);\n    }\n  }, {\n    key: 'broadCastAll',\n\n\n    /**\n     * Send a postmessage to all ACTIVE workers\n     * @return {Object}\n     */\n    value: function broadCastAll(msg) {\n      return _worker2.default.broadCastAll(msg);\n    }\n  }, {\n    key: 'broadCastTo',\n\n\n    /**\n     * Send a postmessage to a specific worker\n     * @return {Object}\n     */\n    value: function broadCastTo(id, msg) {\n      return _worker2.default.broadCastTo(id, msg);\n    }\n  }, {\n    key: 'exec',\n\n\n    /**\n     * API methods exposed for Public ends here\n     */\n    value: function exec(method, params, config) {\n      // validate type of arguments\n      if (params && !Array.isArray(params)) {\n        throw new TypeError('Array expected as argument \"params\"');\n      }\n\n      if (!config) {\n        config = {};\n      }\n\n      var resolver = _Promise2.default.defer();\n\n      var task = {};\n\n      _extends(task, config);\n      _extends(task, {\n        method: method,\n        params: params,\n        resolver: resolver,\n        priority: config && config.priority || _TaskStatusEnum2.default.LOW\n      });\n\n      this.taskQueue._add(task);\n      this._runQueuedTask();\n\n      return resolver.promise;\n    }\n  }, {\n    key: '_runQueuedTask',\n    value: function _runQueuedTask() {\n      var _this = this;\n\n      if (!this.taskQueue.tasks.length) {\n        // Wait for some time for resolve/reject promises\n        setTimeout(function () {\n          _worker2.default.terminateAllExceptOne(_this.config.minWorkers);\n        }, 1000);\n      }\n\n      var nextQueuedTask = this.taskQueue.getNextTask();\n      var availableWorker = _worker2.default.getIdle()[0];\n\n      if (!availableWorker && _worker2.default.getActive().length + _worker2.default.getIdle().length < this.config.maxWorkers) {\n        // create a new worker\n        this.register();\n        availableWorker = _worker2.default.getIdle()[0];\n      }\n\n      if (availableWorker) {\n        nextQueuedTask.runningOnWorkerId = availableWorker.id;\n\n        // remove the task from queue list\n        this.taskQueue._remove(nextQueuedTask.id);\n        // if task is not already completed\n        if (nextQueuedTask.status === _TaskStatusEnum2.default.QUEUED) {\n          availableWorker.status = _WorkerStatusEnum2.default.ACTIVE;\n          nextQueuedTask.status = _TaskStatusEnum2.default.ACTIVE;\n\n          // send the request to worker to execute\n          availableWorker.worker.sendMessage(availableWorker.worker, {\n            id: availableWorker.id,\n            resolver: nextQueuedTask.resolver,\n            taskId: nextQueuedTask.id,\n            method: nextQueuedTask.method,\n            params: nextQueuedTask.params,\n            action: _WorkerActionEnum2.default.EXEC\n          }).then(function (data) {\n            availableWorker.status = _WorkerStatusEnum2.default.IDLE;\n            if (data) {\n              _this._runQueuedTask(); // trigger next task in the queue\n            }\n          }).catch(function (e) {\n            // if the worker crashed and terminated, remove it from the pool\n            if (availableWorker.status === _WorkerStatusEnum2.default.TERMINATED) {\n              _worker2.default.terminate(availableWorker.id);\n              // If minWorkers set, spin up new workers to replace the crashed ones\n              if (_this.config.minWorkers) {\n                _this._ensureMinWorkers();\n              }\n            } else {\n              availableWorker.status = _WorkerStatusEnum2.default.IDLE;\n            }\n            _this._runQueuedTask(); // trigger next task in the queue\n          });\n        }\n      }\n    }\n  }, {\n    key: '_ensureMinWorkers',\n    value: function _ensureMinWorkers() {\n      for (var i = this.workers.length; i < this.config.minWorkers; i++) {\n        this.register();\n      }\n    }\n  }, {\n    key: 'register',\n\n\n    /**\n     * Register a new worker. Config has to be passed with some required keys\n     * @return {Object} worker\n     */\n    value: function register() {\n      var config = this.config;\n\n      if (!config) {\n        throw new Error(_WarningTextEnum2.default.CONFIG_REQUIRED);\n      }\n\n      var url = config.url;\n\n      if (!url) {\n        throw new Error(_WarningTextEnum2.default.URL_REQUIRED);\n      }\n\n      var worker = new _RegisterWorker2.default(config);\n\n      return worker;\n    }\n  }, {\n    key: 'init',\n\n\n    /**\n     * Invoked on object instantiation unless user pass a key to call it explicitly\n     */\n    value: function init() {\n      if (!_worker2.default._isWebWorkerSupported()) {\n        console.warn(_WarningTextEnum2.default.WORKER_NOT_SUPPORTED);\n        return;\n      }\n\n      this.taskQueue = _TaskQueue2.default;\n      this.taskQueue.tasks = [];\n      this.taskQueue.allTasks = [];\n    }\n  }]);\n\n  return MainThread;\n}();\n\n;\n\nexports.default = MainThread;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _uuid = __webpack_require__(6);\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _TaskQueue = __webpack_require__(7);\n\nvar _TaskQueue2 = _interopRequireDefault(_TaskQueue);\n\nvar _worker = __webpack_require__(9);\n\nvar _worker2 = _interopRequireDefault(_worker);\n\nvar _generalUtils = __webpack_require__(2);\n\nvar _generalUtils2 = _interopRequireDefault(_generalUtils);\n\nvar _TaskStatusEnum = __webpack_require__(1);\n\nvar _TaskStatusEnum2 = _interopRequireDefault(_TaskStatusEnum);\n\nvar _WorkerStatusEnum = __webpack_require__(4);\n\nvar _WorkerStatusEnum2 = _interopRequireDefault(_WorkerStatusEnum);\n\nvar _WorkerActionEnum = __webpack_require__(5);\n\nvar _WorkerActionEnum2 = _interopRequireDefault(_WorkerActionEnum);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Named Class expression\nvar RegisterWorker = function () {\n  /**\n   * Invoked when the object is instantiated\n   */\n  function RegisterWorker(config) {\n    _classCallCheck(this, RegisterWorker);\n\n    this.init(config);\n  }\n\n  _createClass(RegisterWorker, [{\n    key: 'onError',\n\n    // reject all running tasks on worker error\n    value: function onError(error) {\n      var _this = this;\n\n      this.status = _WorkerStatusEnum2.default.TERMINATED;\n      var activeTasks = _TaskQueue2.default.getActive();\n      var activeTasksRunningOnWorker = [];\n\n      if (activeTasks && activeTasks.length) {\n        activeTasksRunningOnWorker = activeTasks.filter(function (task) {\n          return task.runningOnWorkerId === _this.id;\n        });\n      }\n\n      for (var i = 0; i < activeTasksRunningOnWorker.length; i++) {\n        activeTasksRunningOnWorker[i].resolver.reject(error);\n      }\n\n      return activeTasksRunningOnWorker;\n    }\n  }, {\n    key: 'addEventListeners',\n\n\n    /**\n     * Attach postmessage, native and custom listeners to the window\n     */\n    value: function addEventListeners() {\n      var _this2 = this;\n\n      this.worker.addEventListener('message', this.onWorkerMessage.bind(this), false);\n      // listen for worker messages error\n      this.worker.addEventListener('error', this.onError.bind(this));\n      // listen for worker messages exit\n      this.worker.addEventListener('exit', function () {\n        var error = new Error('Worker terminated unexpectedly');\n\n        _this2.onError(error).bind(_this2);\n      });\n    }\n  }, {\n    key: 'onWorkerMessage',\n    value: function onWorkerMessage(ev) {\n      if (!ev || !ev.data || ev.data.action !== _WorkerActionEnum2.default.EXEC) {\n        return false;\n      }\n\n      var task = _TaskQueue2.default._getCompleted(ev.data.taskId);\n\n      if (ev.data.error) {\n        if (task.resolver && typeof task.resolver.reject === 'function') {\n          task.resolver.reject(_generalUtils2.default.deSerializeError(ev.data.error));\n        }\n        this.totalJobsFailed += 1;\n        this.lastJobFaileddAt = +new Date();\n        task.status = _TaskStatusEnum2.default.FAILED;\n        task.output = _TaskStatusEnum2.default.FAILED;\n        if (task.onError && typeof task.onError === 'function') {\n          task.onError();\n        }\n        return false;\n      }\n      if (task.resolver && typeof task.resolver.resolve === 'function') {\n        task.resolver.resolve(ev.data.result);\n      }\n      this.totalJobsCompleted += 1;\n      this.lastJobCompletedAt = +new Date();\n      task.status = _TaskStatusEnum2.default.COMPLETED;\n      task.output = ev.data.result;\n      if (task.onSuccess && typeof task.onSuccess === 'function') {\n        task.onSuccess();\n      }\n      return true;\n    }\n  }, {\n    key: 'init',\n\n    /**\n     * Open a new tab\n     * @param  {Object} config - Refer API for config keys\n     * @return {Object} this\n     */\n    value: function init(config) {\n      config = config || {};\n\n      _extends(this, config);\n      this.id = _uuid2.default.generate() || _worker2.default.workers.length + 1;\n      this.status = _WorkerStatusEnum2.default.IDLE;\n      this.createdAt = +new Date();\n      this.lastJobCompletedAt = null;\n      this.totalJobsCompleted = 0;\n      this.totalJobsFailed = 0;\n\n      this.worker = new Worker(config.url);\n\n      _worker2.default.sendMessage(this.worker, {\n        id: this.id,\n        action: _WorkerActionEnum2.default.READY,\n        message: 'Worker is ready.'\n      });\n\n      // TODO: only add methods which are needed\n      _extends(this.worker, {\n        sendMessage: _worker2.default.sendMessage\n      });\n\n      // Add Worker event-listeners\n      this.addEventListeners();\n\n      // Push it to the list of workers\n      _worker2.default.addNew(this);\n\n      // Return reference for chaining purpose\n      return this;\n    }\n  }]);\n\n  return RegisterWorker;\n}();\n\n;\n\nexports.default = RegisterWorker;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _generalUtils = __webpack_require__(2);\n\nvar _generalUtils2 = _interopRequireDefault(_generalUtils);\n\nvar _WorkerActionEnum = __webpack_require__(5);\n\nvar _WorkerActionEnum2 = _interopRequireDefault(_WorkerActionEnum);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Named Class expression\nvar WorkerThread = function () {\n  /**\n   * Involed when object is instantiated\n   * Set flags/variables and calls init method to attach event listeners\n   * @param  {Object} config - Refer API/docs for config keys\n   */\n  function WorkerThread(config) {\n    _classCallCheck(this, WorkerThread);\n\n    if (!config) {\n      config = {};\n    }\n\n    _extends(this, config);\n    this.config = config;\n\n    this.methods = {};\n    if (!config.unlistenEvents) {\n      this.addListeners();\n    }\n  }\n\n  _createClass(WorkerThread, [{\n    key: 'sendMessage',\n    value: function sendMessage(obj, origin) {\n      if (origin) {\n        postMessage(obj, origin); // eslint-disable-line no-undef\n      } else {\n        postMessage(obj); // eslint-disable-line no-undef\n      }\n    }\n  }, {\n    key: 'exposeMethods',\n    value: function exposeMethods(methods) {\n      if (!methods || Object.prototype.toString.call(methods) !== '[object Object]') {\n        throw new Error('ExposeMethods function expects object');\n      }\n\n      for (var method in methods) {\n        var fn = methods[method];\n\n        if (methods.hasOwnProperty(method) && typeof fn === 'function') {\n          this.methods[method] = fn;\n        }\n      }\n    }\n  }, {\n    key: 'onMessage',\n    value: function onMessage(ev) {\n      var _this = this;\n\n      var result = void 0,\n          messageData = void 0;\n\n      messageData = _generalUtils2.default.parseJson(ev.data) || {};\n      if (messageData && messageData.action === _WorkerActionEnum2.default.EXEC) {\n        if (messageData.method) {\n          var _params = messageData.params;\n\n          try {\n            var _fn = void 0,\n                method = void 0;\n\n            if (messageData.isEncodedMethod) {\n              _fn = _generalUtils2.default.deSerializeFunction(messageData.method);\n            } else {\n              _fn = this.methods[messageData.method];\n            }\n\n            method = eval('(' + _fn + ')'); // eslint-disable-line\n\n            result = method.apply(method, _params);\n            if (_generalUtils2.default.isPromise(result)) {\n              result.then(function (thenResult) {\n                _this.sendMessage({\n                  id: messageData.id,\n                  taskId: messageData.taskId,\n                  action: messageData.action,\n                  result: thenResult,\n                  error: null\n                }, ev.origin);\n              }).catch(function (e) {\n                _this.sendMessage({\n                  id: messageData.id,\n                  taskId: messageData.taskId,\n                  action: messageData.action,\n                  result: null,\n                  error: _generalUtils2.default.serializeError(e)\n                }, ev.origin);\n              });\n            } else {\n              this.sendMessage({\n                id: messageData.id,\n                taskId: messageData.taskId,\n                action: messageData.action,\n                result: result,\n                error: null\n              }, ev.origin);\n            }\n          } catch (e) {\n            this.sendMessage({\n              id: messageData.id,\n              taskId: messageData.taskId,\n              action: messageData.action,\n              result: null,\n              error: _generalUtils2.default.serializeError(e)\n            }, ev.origin);\n          }\n        }\n      } else {\n        this.sendMessage({\n          id: messageData.id,\n          taskId: messageData.taskId,\n          action: messageData.action\n        }, ev.origin);\n      }\n    }\n\n    /**\n     * Attach sendmessage and onbeforeunload event listeners\n     */\n\n  }, {\n    key: 'addListeners',\n    value: function addListeners() {\n      removeEventListener('message', this.onMessage.bind(this)); // eslint-disable-line no-undef\n      addEventListener('message', this.onMessage.bind(this)); // eslint-disable-line no-undef\n    }\n  }]);\n\n  return WorkerThread;\n}();\n\n;\n\nexports.default = WorkerThread;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// super-workers.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7753a3f3a61ac6416a3f","/**\n * Inspired from - @josdejong(Github) - Promise.js\n *\n * ES6 port\n *\n * Promise polyfill\n *\n * @param {Function} handler   Called as handler(resolve: Function, reject: Function)\n */\nclass Promise {\n  constructor(handler) {\n    const self = this;\n    let _resolve, _reject, _process;\n\n    /**\n     * Create a cancellation error\n     * @param {String} [message]\n     * @extends Error\n     */\n    function CancellationError(message) {\n      this.message = message || 'promise cancelled';\n      this.stack = (new Error()).stack;\n    }\n\n    CancellationError.prototype = new Error();\n    CancellationError.prototype.constructor = Error;\n    CancellationError.prototype.name = 'CancellationError';\n\n    /**\n     * Create a timeout error\n     * @param {String} [message]\n     * @extends Error\n     */\n    function TimeoutError(message) {\n      this.message = message || 'timeout exceeded';\n      this.stack = (new Error()).stack;\n    }\n\n    TimeoutError.prototype = new Error();\n    TimeoutError.prototype.constructor = Error;\n    TimeoutError.prototype.name = 'TimeoutError';\n\n    this.CancellationError = CancellationError;\n    this.TimeoutError = TimeoutError;\n\n    /**\n     * Add an onFail callback to the Promise\n     * @param {Function} onFail\n     * @returns {Promise} promise\n     */\n    this['catch'] = function (onFail) {  // eslint-disable-line\n      return this.then(null, onFail);\n    };\n\n    if (!(this instanceof Promise)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n\n    if (typeof handler !== 'function') {\n      throw new SyntaxError('Function parameter handler(resolve, reject) missing');\n    }\n\n    const _onSuccess = [];\n    const _onFail = [];\n\n    /**\n     * Process onSuccess and onFail callbacks: add them to the queue.\n     * Once the promise is resolve, the function _promise is replace.\n     * @param {Function} onSuccess\n     * @param {Function} onFail\n     * @private\n     */\n    _process = (onSuccess, onFail) => {\n      _onSuccess.push(onSuccess);\n      _onFail.push(onFail);\n    };\n\n    /**\n     * Execute given callback, then call resolve/reject based on the returned result\n     * @param {Function} callback\n     * @param {Function} resolve\n     * @param {Function} reject\n     * @returns {Function}\n     * @private\n     */\n    function _then(callback, resolve, reject) {\n      return result => {\n        try {\n          const res = callback(result);\n\n          if (res && typeof res.then === 'function' && typeof res['catch'] === 'function') {\n            // method returned a promise\n            res.then(resolve, reject);\n          } else {\n            resolve(res);\n          }\n        } catch (error) {\n          reject(error);\n        }\n      };\n    }\n\n    /**\n     * Add an onSuccess callback and optionally an onFail callback to the Promise\n     * @param {Function} onSuccess\n     * @param {Function} [onFail]\n     * @returns {Promise} promise\n     */\n    this.then = (onSuccess, onFail) => new Promise((resolve, reject) => {\n      const s = onSuccess ? _then(onSuccess, resolve, reject) : resolve;\n      const f = onFail ? _then(onFail, resolve, reject) : reject;\n\n      _process(s, f);\n    }, self);\n\n    /**\n     * Resolve the promise\n     * @param {*} result\n     * @type {Function}\n     */\n    _resolve = result => {\n      _onSuccess.forEach(fn => {\n        fn(result);\n      });\n\n      _process = (onSuccess, onFail) => {\n        onSuccess(result);\n      };\n\n      _resolve = _reject = () => {\n        throw new Error('Promise is already resolved');\n      };\n\n      return self;\n    };\n\n    /**\n     * Reject the promise\n     * @param {Error} error\n     * @type {Function}\n     */\n    _reject = error => {\n      _onFail.forEach(fn => {\n        fn(error);\n      });\n\n      _process = (onSuccess, onFail) => {\n        onFail(error);\n      };\n\n      _resolve = _reject = () => {\n        throw new Error('Promise is already resolved');\n      };\n\n      return self;\n    };\n\n    /**\n     * Cancel te promise. This will reject the promise with a CancellationError\n     * @returns {Promise} self\n     */\n    this.cancel = () => {\n      _reject(new CancellationError());\n\n      return self;\n    };\n\n    /**\n     * Set a timeout for the promise. If the promise is not resolved within\n     * the time, the promise will be cancelled and a TimeoutError is thrown.\n     * If the promise is resolved in time, the timeout is removed.\n     * @param {number} delay     Delay in milliseconds\n     * @returns {Promise} self\n     */\n    this.timeout = delay => {\n      const timer = setTimeout(() => {\n        _reject(new TimeoutError(`Promise timed out after ${delay} ms`));\n      }, delay);\n\n      self.always(() => {\n        clearTimeout(timer);\n      });\n\n      return self;\n    };\n\n    // attach handler passing the resolve and reject functions\n    handler(result => {\n      _resolve(result);\n    }, error => {\n      _reject(error);\n    });\n  }\n\n  // TODO: add support for Promise.catch(Error, callback)\n  // TODO: add support for Promise.catch(Error, Error, callback)\n\n  /**\n   * Execute given callback when the promise either resolves or rejects.\n   * @param {Function} fn\n   * @returns {Promise} promise\n   */\n  always(fn) {\n    return this.then(fn, fn);\n  }\n\n  /**\n   * Create a promise which resolves when all provided promises are resolved,\n   * and fails when any of the promises resolves.\n   * @param {Promise[]} promises\n   * @returns {Promise} promise\n   */\n  static all(promises) {\n    return new Promise((resolve, reject) => {\n      let remaining = promises.length;\n      const results = [];\n\n      if (remaining) {\n        promises.forEach((p, i) => {\n          p.then(result => {\n            results[i] = result;\n            remaining--;\n            if (remaining === 0) {\n              resolve(results);\n            }\n          }, error => {\n            remaining = 0;\n            reject(error);\n          });\n        });\n      } else {\n        resolve(results);\n      }\n    });\n  }\n\n  /**\n   * Create a promise resolver\n   * @returns {{promise: Promise, resolve: Function, reject: Function}} resolver\n   */\n  static defer() {\n    const resolver = {};\n\n    resolver.promise = new Promise((resolve, reject) => {\n      resolver.resolve = resolve;\n      resolver.reject = reject;\n    });\n\n    return resolver;\n  }\n}\n\nexport default Promise;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/Promise.js","/**\n * Enum for Worker status(still active / idle) used for client-worker-communication\n * @type {Object}\n */\nconst TaskStatusEnum = {\n  PENDING: 'pending',\n  QUEUED: 'queued',\n  ACTIVE: 'active',\n  FAILED: 'failed',\n  COMPLETED: 'completed'\n};\n\nexport default TaskStatusEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/TaskStatusEnum.js","import WarningTextEnum from '../enums/WarningTextEnum';\n\nlet GeneralUtils = {\n  isPromise: (value) => {\n    return value && (typeof value.then === 'function');\n  },\n  serializeFunction: (fn) => {\n    if (!fn || typeof fn !== 'function') { return false; }\n\n    return encodeURI(fn.toString());\n  },\n  deSerializeFunction: (fn) => {\n    if (!fn || typeof fn !== 'string') { return false; }\n\n    return decodeURI(fn);\n  },\n  serializeError: (error) => {\n    let i;\n    let err = {};\n    let errProps = [ 'name', 'message', 'stack', 'custom' ];\n\n    if (error instanceof Error) {\n      for (i = errProps.length - 1; i >= 0; i--) {\n        err[errProps[i]] = error[errProps[i]];\n      }\n      return err;\n    }\n\n    return err;\n  },\n  deSerializeError: (error) => {\n    let i;\n    let fakeError = new Error('');\n\n    if (!error) {\n      return fakeError;\n    }\n\n    let props = Object.keys(error);\n\n    for (i = 0; i < props.length; i++) {\n      fakeError[props[i]] = error[props[i]];\n    }\n\n    return fakeError;\n  },\n  /**\n   * Stringify Object\n   * @param  {String} data\n   * @param  {String} err  - Message to be thrown if not valid object\n   * @return {Object}      - stringified json\n   */\n  stringifyJson: function (data, err) {\n    err = err || WarningTextEnum.INVALID_JSON;\n    try {\n      data = JSON.stringify(data);\n    } catch (e) {\n      console.warn(err);\n    }\n\n    return data;\n  },\n  /**\n   * Parse sringified data\n   * @param  {String} data\n   * @param  {String} err  - Message to be thrown if not valid json\n   * @return {Object}      - parsed json\n   */\n  parseJson: function (data, err) {\n    let jsonParsedData;\n\n    err = err || WarningTextEnum.PARSE_JSON;\n    try {\n      jsonParsedData = JSON.parse(data);\n    } catch (e) {\n      console.warn(err);\n    }\n\n    return jsonParsedData;\n  }\n};\n\nexport default GeneralUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/generalUtils.js","/**\n * Enum for showing various warnings to suser when things done wrong\n * @type {Object}\n */\nconst WarningTextEnum = {\n  INVALID_JSON: 'Invalid JSON Object!',\n  PARSE_JSON: 'Can not parse stringifed data',\n  NO_ID_PROVIDED: 'Valid worker id should be provided',\n  INVALID_DATA: 'Some wrong message is being sent by Parent.',\n  WORKER_ALREADY_TERMINATED: 'Web Worker has already been terminated.',\n  CONFIG_REQUIRED: 'Configuration options required. Please read docs.',\n  WORKER_NOT_SUPPORTED: 'Web Worker not supported on this browser version',\n  URL_REQUIRED: 'Url is needed for creating and opening a new window/tab. Please read docs.'\n};\n\nexport default WarningTextEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WarningTextEnum.js","/**\n * Enum for Worker status(still active / idle) used for client-worker-communication\n * @type {Object}\n */\nconst WorkerStatusEnum = {\n  IDLE: 'idle',\n  ACTIVE: 'active',\n  TERMINATED: 'terminated'\n};\n\nexport default WorkerStatusEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WorkerStatusEnum.js","/**\n * Enum for Worker action\n * @type {Object}\n */\nconst WorkerActionEnum = {\n  READY: 'ready',\n  EXEC: 'execute'\n};\n\nexport default WorkerActionEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WorkerActionEnum.js","/**\n * UUID.js: The RFC-compliant UUID generator for JavaScript.\n * ES6 port of only `generate` method of UUID by Varun Malhotra under MIT License\n *\n * @author  LiosK\n * @version v3.3.0\n * @license The MIT License: Copyright (c) 2010-2016 LiosK.\n */\n\n/** @constructor */\nlet UUID;\n\nUUID = (function () {\n  'use strict';\n\n  /** @lends UUID */\n  function UUID() {}\n\n  /**\n   * The simplest function to get an UUID string.\n   * @returns {string} A version 4 UUID string.\n   */\n  UUID.generate = function () {\n    let rand = UUID._getRandomInt;\n    let hex = UUID._hexAligner;\n\n    // [\"timeLow\", \"timeMid\", \"timeHiAndVersion\", \"clockSeqHiAndReserved\", \"clockSeqLow\", \"node\"]\n    return hex(rand(32), 8) + // time_low\n      '-' +\n      hex(rand(16), 4) + // time_mid\n      '-' +\n      hex(0x4000 | rand(12), 4) + // time_hi_and_version\n      '-' +\n      hex(0x8000 | rand(14), 4) + // clock_seq_hi_and_reserved clock_seq_low\n      '-' +\n      hex(rand(48), 12); // node\n  };\n\n  /**\n   * Returns an unsigned x-bit random integer.\n   * @param {int} x A positive integer ranging from 0 to 53, inclusive.\n   * @returns {int} An unsigned x-bit random integer (0 <= f(x) < 2^x).\n   */\n  UUID._getRandomInt = function (x) {\n    if (x < 0) {\n      return NaN;\n    }\n    if (x <= 30) {\n      return (0 | Math.random() * (1 << x));\n    }\n    if (x <= 53) {\n      return (0 | Math.random() * (1 << 30)) +\n        (0 | Math.random() * (1 << x - 30)) * (1 << 30);\n    }\n\n    return NaN;\n  };\n\n  /**\n   * Returns a function that converts an integer to a zero-filled string.\n   * @param {int} radix\n   * @returns {function(num&#44; length)}\n   */\n  UUID._getIntAligner = function (radix) {\n    return function (num, length) {\n      let str = num.toString(radix);\n      let i = length - str.length;\n      let z = '0';\n\n      for (; i > 0; i >>>= 1, z += z) {\n        if (i & 1) {\n          str = z + str;\n        }\n      }\n      return str;\n    };\n  };\n\n  UUID._hexAligner = UUID._getIntAligner(16);\n\n  /**\n   * Returns UUID string representation.\n   * @returns {string} {@link UUID#hexString}.\n   */\n  UUID.prototype.toString = function () {\n    return this.hexString;\n  };\n\n  return UUID;\n})(UUID);\n\nexport default UUID;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/uuid.js","import UUID from './vendor/uuid';\nimport ArrayUtils from './utils/array';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\n\nlet TaskQueue = {\n  config: {},\n  tasks: [],\n  allTasks: [],\n\n  /**\n   * Add task to the queue\n   * @param {Object} task - with proper config\n   */\n  _add: (task) => {\n    if (!task) { throw new Error('No task passed for queuing'); }\n\n    if (Object.prototype.toString.call(task) !== '[object Object]') {\n      throw new Error('Task should be an object');\n    }\n\n    task.id = UUID.generate() || TaskQueue.tasks.length;\n    task.status = TaskStatusEnum.QUEUED;\n    task.output = TaskStatusEnum.PENDING;\n    TaskQueue.tasks.push(task);\n    TaskQueue._addToAllList(task);\n  },\n  _addToAllList: (task) => {\n    if (!task) { throw new Error('No task passed for queuing'); }\n\n    if (Object.prototype.toString.call(task) !== '[object Object]') { throw new Error('Task should be an object'); }\n\n    TaskQueue.allTasks.push(task);\n  },\n  /**\n   * Remove a task from the queue\n   * @param {Number} task\n   */\n  _remove: (id) => {\n    if (!id) { throw new Error('No id passed'); }\n\n    let index;\n\n    index = ArrayUtils.searchByKeyName(TaskQueue.tasks, 'id', id, 'index');\n    if (index !== -1) {\n      TaskQueue.tasks.splice(index, 1);\n    }\n\n    return this;\n  },\n  _getCompleted: (id) => {\n    if (!id) { throw new Error('No id passed'); }\n\n    let task = ArrayUtils.searchByKeyName(TaskQueue.allTasks, 'id', id);\n\n    return task || {};\n  },\n  /**\n   * Get the task from the queue\n   * @param {id} task\n   * @return {Object} task being queried or an empty Object(if not found)\n   */\n  get: (id) => {\n    if (!id) { return TaskQueue.tasks[0] || {}; }\n\n    let task = ArrayUtils.searchByKeyName(TaskQueue.tasks, 'id', id);\n\n    return task || {};\n  },\n  /**\n   * Get next available task from the queue\n   * @return {Object} task being queried or an empty Object(if not found)\n   */\n  getNextTask: () => {\n    // Sort as per task priorities\n    ArrayUtils.sortOnStringType(TaskQueue.tasks, 'priority');\n    return TaskQueue.get();\n  },\n  /**\n   * Filter out all the active tasks\n   * @return {Array} - only the active tasks\n   */\n  getActive: () => {\n    return TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.ACTIVE);\n  },\n  /**\n   * Filter out all the completed tasks\n   * @return {Array} - only the completed tasks\n   */\n  getCompleted: () => {\n    return TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.COMPLETED);\n  },\n  /**\n   * Filter out all the failed tasks\n   * @return {Array} - only the failed tasks\n   */\n  getFailed: () => {\n    return TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.FAILED);\n  },\n  /**\n   * To get list of all tasks\n   * @return {Array} - list of all tasks\n   */\n  getAll: () => {\n    return TaskQueue.tasks;\n  }\n};\n\nexport default TaskQueue;\n\n\n\n// WEBPACK FOOTER //\n// ./src/TaskQueue.js","let ArrayUtils = {};\n\n/**\n * Different type of data needed after searching an item(Object) within data(Array of Objects).\n * 1. `INDEX` returns just the index at which the item was present\n * 2. `OBJECT` returns the matched object\n * 3. `BOTH` returns an object { obj: matched_object, index: index_found }\n */\nlet returnPreferenceEnum = {\n  INDEX: 'index',\n  OBJECT: 'object',\n  BOTH: 'both'\n};\n\n/**\n * Search for an item(Object) within a data-set(Array Of Objects)\n * @param  {Array of Objects} data\n * @param  {String} key - Unique key to search on the basis of\n * @param  {String} value - The matching criteria\n * @param  {String} returnPreference - what kind of output is needed\n * @return {Object}\n */\nArrayUtils.searchByKeyName = (data, key, value, returnPreference) => {\n  if (!data || !key) { return false; }\n\n  returnPreference = returnPreference || returnPreferenceEnum[1]; // default to Object\n  let i;\n  let obj;\n  let returnData;\n  let index = -1;\n\n  for (i = 0; i < data.length; i++) {\n    obj = data[i];\n    // Number matching support\n    if (!isNaN(value) && obj && parseInt(obj[key], 10) === parseInt(value, 10)) {\n      index = i;\n      break;\n    } else if (isNaN(value) && obj && obj[key] === value) { // String exact matching support\n      index = i;\n      break;\n    }\n  }\n\n  if (index === -1) { // item not found\n    data[index] = {}; // for consistency\n  }\n\n  switch (returnPreference) {\n    case returnPreferenceEnum.INDEX:\n      returnData = index;\n      break;\n    case returnPreferenceEnum.BOTH:\n      returnData = {\n        obj: data[index],\n        index: index\n      };\n      break;\n    case returnPreferenceEnum.OBJECT:\n    default:\n      returnData = data[index];\n      break;\n  }\n\n  return returnData;\n};\n\n/**\n * Sort array based on key defined.\n * @param {Array} arr - Array to be sorted\n * @param {String} key - key on which sort is required\n * @param {Boolean} orederBy - Sort in asc/desc order. If nothing is specified, it's ascending order.\n */\nArrayUtils.sortOn = (arr, key, orderBy) => {\n  arr.sort(function (a, b) {\n    return orderBy ? b[key] - a[key] : a[key] - b[key];\n  });\n};\n\n/**\n * Sort array based on key:String defined.\n * @param {Array} arr - Array to be sorted\n * @param {String} key - key on which sort is required\n * @param {Boolean} orederBy - Sort in asc/desc order. If nothing is specified, it's ascending order.\n */\nArrayUtils.sortOnStringType = (arr, key) => {\n  arr.sort(function (a, b) {\n    if (a[key] < b[key]) {\n      return -1;\n    } else if (a[key] > b[key]) {\n      return 1;\n    }\n    return 0;\n  });\n};\n\nexport default ArrayUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/array.js","/**\n * A Tab utility file to deal with tab operations\n */\nimport Promise from '../vendor/Promise';\nimport ArrayUtils from './array';\nimport GeneralUtils from './generalUtils';\n\nimport WorkerStatusEnum from '../enums/WorkerStatusEnum';\nimport WarningTextEnum from '../enums/WarningTextEnum';\n\nlet WorkerUtils = {\n  workers: [],\n  config: {},\n\n  /**\n   * Check is worker is present on window\n   * @return {Boolean} [description]\n   */\n  _isWebWorkerSupported: () => {\n    if (typeof window.Worker === 'function' ||\n      (typeof window.Worker === 'object' || typeof Worker.prototype.constructor === 'function')) {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * Remove a tab from a list of all workers.\n   * This is required when users opts for removing the idle workers from the list of workers.\n   * This can be done explictly by passing `removeidleworkers` key while instantiating Parent.\n   * @param  {Object} tab\n   */\n  _remove: (worker) => {\n    let index;\n\n    index = ArrayUtils.searchByKeyName(WorkerUtils.workers, 'id', worker.id, 'index');\n    WorkerUtils.workers.splice(index, 1);\n  },\n\n  /**\n   * Add a new worker to the Array of workers\n   * @param  {Object} worker\n   * @return {Object} - this\n   */\n  addNew: (worker) => {\n    WorkerUtils.workers.push(worker);\n    return this;\n  },\n  /**\n   * Filter out all the active workers\n   * @return {Array} - only the active workers\n   */\n  getActive: () => {\n    return WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.ACTIVE);\n  },\n  /**\n   * Filter out all the idle workers\n   * @return {Array} - only the idle workers\n   */\n  getIdle: () => {\n    return WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.IDLE);\n  },\n  /**\n   * Filter out all the terminated workers\n   * @return {Array} - only the idle workers\n   */\n  getTerminated: () => {\n    return WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.TERMINATED);\n  },\n  /**\n   * To get list of all workers(idle/active).\n   * Note: idle workers will not be returned if `removeidleworkers` key is paased while instantiaiting Parent.\n   * @return {Array} - list of all workers\n   */\n  getAll: () => {\n    return WorkerUtils.workers;\n  },\n\n  /**\n   * Terminate a specific tab\n   * @param  {String} id\n   * @return {Object} this\n   */\n  terminate: (id) => {\n    if (!id) {\n      console.warn(WarningTextEnum.NO_ID_PROVIDED);\n      return WorkerUtils;\n    }\n\n    let worker = ArrayUtils.searchByKeyName(WorkerUtils.workers, 'id', id, 'object');\n\n    if (worker && worker.worker &&\n      worker.status === WorkerStatusEnum.TERMINATED\n    ) {\n      console.warn(WarningTextEnum.WORKER_ALREADY_TERMINATED);\n      return WorkerUtils;\n    }\n\n    if (worker && worker.worker &&\n      worker.worker.terminate\n    ) {\n      worker.worker.terminate();\n      worker.status = WorkerStatusEnum.TERMINATED;\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Terminate all (active+idle) workers using a native method `Terminate` available on window.open reference.\n   * @return {WorkerUtils} this\n   */\n  terminateAllExceptOne: (minWorkers) => {\n    return WorkerUtils.terminateAll(true, minWorkers || 1);\n  },\n  /**\n   * Terminate all active workers using a native method `Terminate` available on window.open reference.\n   * @return {WorkerUtils} this\n   */\n  terminateAll: (exceptOne, minWorkers) => {\n    let i,\n      nonTerminatedWorkers;\n\n    if (exceptOne) {\n      // terminate only idle workers\n      nonTerminatedWorkers = [].concat(WorkerUtils.getIdle());\n    } else {\n      nonTerminatedWorkers = [].concat(WorkerUtils.getActive()).concat(WorkerUtils.getIdle());\n    }\n\n    for (i = 0; i < nonTerminatedWorkers.length; i++) {\n      // ensure minWorkers should be there\n      if (exceptOne && WorkerUtils.getIdle() && WorkerUtils.getIdle().length <= minWorkers) {\n        return WorkerUtils;\n      }\n\n      if (nonTerminatedWorkers[i] &&\n        nonTerminatedWorkers[i].worker &&\n        nonTerminatedWorkers[i].worker.terminate\n      ) {\n        nonTerminatedWorkers[i].worker.terminate();\n        nonTerminatedWorkers[i].status = WorkerStatusEnum.TERMINATED;\n      }\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postmessage to every active Child tab(excluding itself i.e Parent Tab)\n   * @param  {String} config\n   */\n  broadCastAll: (config) => {\n    let i;\n    let workers = WorkerUtils.getActive() || [];\n\n    for (i = 0; i < workers.length; i++) {\n      WorkerUtils.sendMessage(workers[i], config);\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postmessage to a specific Child tab\n   * @param  {String} id\n   * @param  {String} config\n   */\n  broadCastTo: (id, config) => {\n    let targetedWorker;\n    let workers = [].concat(WorkerUtils.getActive()).concat(WorkerUtils.getIdle());\n\n    targetedWorker = ArrayUtils.searchByKeyName(workers, 'id', id);\n    if (targetedWorker) {\n      WorkerUtils.sendMessage(targetedWorker, config);\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postMessage to the desired window/frame\n   * @param  {Object}  target\n   * @param  {String}  msg\n   */\n  sendMessage: (target, config) => {\n    let msg;\n    let isEncodedMethod = false;\n\n    config = config || {};\n    if (config.method && typeof config.method === 'function') {\n      config.method = GeneralUtils.serializeFunction(config.method);\n      isEncodedMethod = true;\n    }\n\n    if (!config.resolver) {\n      config.resolver = Promise.defer();\n    }\n\n    msg = {\n      id: config.id,\n      taskId: config.taskId,\n      method: config.method,\n      params: config.params,\n      action: config.action,\n      isEncodedMethod\n    };\n\n    msg = GeneralUtils.stringifyJson(msg);\n\n    if (target && target.postMessage) {\n      target.postMessage(msg);\n    }\n\n    return config.resolver.promise;\n  }\n};\n\nexport default WorkerUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/worker.js","import Promise from './vendor/Promise';\n\nimport MainThread from './MainThread';\nimport WorkerThread from './WorkerThread';\n/**\n * Expose Parent and Child modules on SuperWorkers Object\n * @type {Object}\n */\nconst SuperWorkers = {\n  MainThread: MainThread,\n  WorkerThread: WorkerThread,\n  Promise: Promise\n};\n\nexport default SuperWorkers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import RegisterWorker from './RegisterWorker';\n\nimport Promise from './vendor/Promise';\nimport TaskQueue from './TaskQueue';\n\nimport WorkerUtils from './utils/worker';\n\nimport WorkerActionEnum from './enums/WorkerActionEnum';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\nimport WorkerStatusEnum from './enums/WorkerStatusEnum';\nimport WarningTextEnum from './enums/WarningTextEnum';\n\n// Named Class expression\nclass MainThread {\n  /**\n   * Involed when object is instantiated\n   * Set flags/variables and calls init method to attach event listeners\n   * @param  {Object} config - Refer API/docs for config keys\n   */\n  constructor(config) {\n    config = config || {};\n\n    if (typeof config.minWorkers === 'undefined') {\n      config.minWorkers = 1;\n    }\n\n    if (typeof config.maxWorkers === 'undefined') {\n      config.maxWorkers = (window.navigator && window.navigator.hardwareConcurrency) || 3;\n    }\n\n    // max workers should not be less than min workers\n    config.maxWorkers = Math.max(config.maxWorkers, config.minWorkers);\n\n    // reset workers with every new Object\n    this.workers = WorkerUtils.workers = [];\n\n    Object.assign(this, config);\n    this.config = config;\n\n    WorkerUtils.config = config;\n\n    this.init();\n  };\n\n  /**\n   * Return list of all workers\n   * @return {Array}\n   */\n  getAllWorkers() {\n    return WorkerUtils.getAll();\n  };\n\n  /**\n   * Return list of all ACTIVE workers\n   * @return {Array}\n   */\n  getActiveWorkers() {\n    return WorkerUtils.getActive();\n  };\n\n  /**\n   * Return list of all IDLE workers\n   * @return {Array}\n   */\n  getIdleWorkers() {\n    return WorkerUtils.getIdle();\n  };\n\n  /**\n   * Return list of all CLOSED workers\n   * @return {Array}\n   */\n  getTerminatedWorkers() {\n    return WorkerUtils.getTerminated();\n  };\n\n  /**\n   * Terminate all workers at once\n   * @return {Object}\n   */\n  terminateAllWorkers() {\n    return WorkerUtils.terminateAll();\n  };\n\n  /**\n   * Terminate a specific worker\n   * @return {Object}\n   */\n  terminateWorker(id) {\n    return WorkerUtils.terminate(id);\n  };\n\n  /**\n   * Send a postmessage to all ACTIVE workers\n   * @return {Object}\n   */\n  broadCastAll(msg) {\n    return WorkerUtils.broadCastAll(msg);\n  };\n\n  /**\n   * Send a postmessage to a specific worker\n   * @return {Object}\n   */\n  broadCastTo(id, msg) {\n    return WorkerUtils.broadCastTo(id, msg);\n  };\n\n  /**\n   * API methods exposed for Public ends here\n   */\n  exec(method, params, config) {\n    // validate type of arguments\n    if (params && !Array.isArray(params)) {\n      throw new TypeError('Array expected as argument \"params\"');\n    }\n\n    if (!config) {\n      config = {};\n    }\n\n    let resolver = Promise.defer();\n\n    let task = {};\n\n    Object.assign(task, config);\n    Object.assign(task, {\n      method: method,\n      params: params,\n      resolver: resolver,\n      priority: (config && config.priority) || TaskStatusEnum.LOW\n    });\n\n    this.taskQueue._add(task);\n    this._runQueuedTask();\n\n    return resolver.promise;\n  };\n\n  _runQueuedTask() {\n    if (!this.taskQueue.tasks.length) {\n      // Wait for some time for resolve/reject promises\n      setTimeout(() => {\n        WorkerUtils.terminateAllExceptOne(this.config.minWorkers);\n      }, 1000);\n    }\n\n    let nextQueuedTask = this.taskQueue.getNextTask();\n    let availableWorker = WorkerUtils.getIdle()[0];\n\n    if (!availableWorker && (WorkerUtils.getActive().length + WorkerUtils.getIdle().length < this.config.maxWorkers)) {\n      // create a new worker\n      this.register();\n      availableWorker = WorkerUtils.getIdle()[0];\n    }\n\n    if (availableWorker) {\n      nextQueuedTask.runningOnWorkerId = availableWorker.id;\n\n      // remove the task from queue list\n      this.taskQueue._remove(nextQueuedTask.id);\n      // if task is not already completed\n      if (nextQueuedTask.status === TaskStatusEnum.QUEUED) {\n        availableWorker.status = WorkerStatusEnum.ACTIVE;\n        nextQueuedTask.status = TaskStatusEnum.ACTIVE;\n\n        // send the request to worker to execute\n        availableWorker.worker.sendMessage(\n          availableWorker.worker, {\n            id: availableWorker.id,\n            resolver: nextQueuedTask.resolver,\n            taskId: nextQueuedTask.id,\n            method: nextQueuedTask.method,\n            params: nextQueuedTask.params,\n            action: WorkerActionEnum.EXEC\n          }\n        ).then((data) => {\n          availableWorker.status = WorkerStatusEnum.IDLE;\n          if (data) {\n            this._runQueuedTask(); // trigger next task in the queue\n          }\n        })\n          .catch((e) => {\n            // if the worker crashed and terminated, remove it from the pool\n            if (availableWorker.status === WorkerStatusEnum.TERMINATED) {\n              WorkerUtils.terminate(availableWorker.id);\n              // If minWorkers set, spin up new workers to replace the crashed ones\n              if (this.config.minWorkers) {\n                this._ensureMinWorkers();\n              }\n            } else {\n              availableWorker.status = WorkerStatusEnum.IDLE;\n            }\n            this._runQueuedTask(); // trigger next task in the queue\n          });\n      }\n    }\n  };\n\n  _ensureMinWorkers() {\n    for (let i = this.workers.length; i < this.config.minWorkers; i++) {\n      this.register();\n    }\n  };\n\n  /**\n   * Register a new worker. Config has to be passed with some required keys\n   * @return {Object} worker\n   */\n  register() {\n    let config = this.config;\n\n    if (!config) {\n      throw new Error(WarningTextEnum.CONFIG_REQUIRED);\n    }\n\n    let url = config.url;\n\n    if (!url) {\n      throw new Error(WarningTextEnum.URL_REQUIRED);\n    }\n\n    let worker = new RegisterWorker(config);\n\n    return worker;\n  };\n\n  /**\n   * Invoked on object instantiation unless user pass a key to call it explicitly\n   */\n  init() {\n    if (!WorkerUtils._isWebWorkerSupported()) {\n      console.warn(WarningTextEnum.WORKER_NOT_SUPPORTED);\n      return;\n    }\n\n    this.taskQueue = TaskQueue;\n    this.taskQueue.tasks = [];\n    this.taskQueue.allTasks = [];\n  };\n};\n\nexport default MainThread;\n\n\n\n// WEBPACK FOOTER //\n// ./src/MainThread.js","import UUID from './vendor/uuid';\nimport TaskQueue from './TaskQueue';\nimport WorkerUtils from './utils/worker';\nimport GeneralUtils from './utils/generalUtils';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\nimport WorkerStatusEnum from './enums/WorkerStatusEnum';\nimport WorkerActionEnum from './enums/WorkerActionEnum';\n\n// Named Class expression\nclass RegisterWorker {\n  /**\n   * Invoked when the object is instantiated\n   */\n  constructor(config) {\n    this.init(config);\n  };\n  // reject all running tasks on worker error\n  onError(error) {\n    this.status = WorkerStatusEnum.TERMINATED;\n    let activeTasks = TaskQueue.getActive();\n    let activeTasksRunningOnWorker = [];\n\n    if (activeTasks && activeTasks.length) {\n      activeTasksRunningOnWorker = activeTasks.filter(task => task.runningOnWorkerId === this.id);\n    }\n\n    for (let i = 0; i < activeTasksRunningOnWorker.length; i++) {\n      activeTasksRunningOnWorker[i].resolver.reject(error);\n    }\n\n    return activeTasksRunningOnWorker;\n  };\n\n  /**\n   * Attach postmessage, native and custom listeners to the window\n   */\n  addEventListeners() {\n    this.worker.addEventListener('message', this.onWorkerMessage.bind(this), false);\n    // listen for worker messages error\n    this.worker.addEventListener('error', this.onError.bind(this));\n    // listen for worker messages exit\n    this.worker.addEventListener('exit', () => {\n      let error = new Error('Worker terminated unexpectedly');\n\n      this.onError(error).bind(this);\n    });\n  };\n\n  onWorkerMessage(ev) {\n    if (!ev || !ev.data || ev.data.action !== WorkerActionEnum.EXEC) {\n      return false;\n    }\n\n    let task = TaskQueue._getCompleted(ev.data.taskId);\n\n    if (ev.data.error) {\n      if (task.resolver && typeof task.resolver.reject === 'function') {\n        task.resolver.reject(GeneralUtils.deSerializeError(ev.data.error));\n      }\n      this.totalJobsFailed += 1;\n      this.lastJobFaileddAt = +new Date();\n      task.status = TaskStatusEnum.FAILED;\n      task.output = TaskStatusEnum.FAILED;\n      if (task.onError && typeof task.onError === 'function') {\n        task.onError();\n      }\n      return false;\n    }\n    if (task.resolver && typeof task.resolver.resolve === 'function') {\n      task.resolver.resolve(ev.data.result);\n    }\n    this.totalJobsCompleted += 1;\n    this.lastJobCompletedAt = +new Date();\n    task.status = TaskStatusEnum.COMPLETED;\n    task.output = ev.data.result;\n    if (task.onSuccess && typeof task.onSuccess === 'function') {\n      task.onSuccess();\n    }\n    return true;\n  };\n  /**\n   * Open a new tab\n   * @param  {Object} config - Refer API for config keys\n   * @return {Object} this\n   */\n  init(config) {\n    config = config || {};\n\n    Object.assign(this, config);\n    this.id = UUID.generate() || (WorkerUtils.workers.length + 1);\n    this.status = WorkerStatusEnum.IDLE;\n    this.createdAt = +new Date();\n    this.lastJobCompletedAt = null;\n    this.totalJobsCompleted = 0;\n    this.totalJobsFailed = 0;\n\n    this.worker = new Worker(config.url);\n\n    WorkerUtils.sendMessage(this.worker, {\n      id: this.id,\n      action: WorkerActionEnum.READY,\n      message: 'Worker is ready.'\n    });\n\n    // TODO: only add methods which are needed\n    Object.assign(this.worker, {\n      sendMessage: WorkerUtils.sendMessage\n    });\n\n    // Add Worker event-listeners\n    this.addEventListeners();\n\n    // Push it to the list of workers\n    WorkerUtils.addNew(this);\n\n    // Return reference for chaining purpose\n    return this;\n  };\n};\n\nexport default RegisterWorker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/RegisterWorker.js","import GeneralUtils from './utils/generalUtils';\nimport WorkerActionEnum from './enums/WorkerActionEnum';\n\n// Named Class expression\nclass WorkerThread {\n  /**\n   * Involed when object is instantiated\n   * Set flags/variables and calls init method to attach event listeners\n   * @param  {Object} config - Refer API/docs for config keys\n   */\n  constructor(config) {\n    if (!config) {\n      config = {};\n    }\n\n    Object.assign(this, config);\n    this.config = config;\n\n    this.methods = {};\n    if (!config.unlistenEvents) {\n      this.addListeners();\n    }\n  };\n\n  sendMessage(obj, origin) {\n    if (origin) {\n      postMessage(obj, origin); // eslint-disable-line no-undef\n    } else {\n      postMessage(obj); // eslint-disable-line no-undef\n    }\n  };\n\n  exposeMethods(methods) {\n    if (!methods || Object.prototype.toString.call(methods) !== '[object Object]') {\n      throw new Error('ExposeMethods function expects object');\n    }\n\n    for (let method in methods) {\n      let fn = methods[method];\n\n      if (methods.hasOwnProperty(method) && typeof fn === 'function') {\n        this.methods[method] = fn;\n      }\n    }\n  }\n\n  onMessage(ev) {\n    let result, messageData;\n\n    messageData = GeneralUtils.parseJson(ev.data) || {};\n    if (messageData && messageData.action === WorkerActionEnum.EXEC) {\n      if (messageData.method) {\n        let _params = messageData.params;\n\n        try {\n          let _fn, method;\n\n          if (messageData.isEncodedMethod) {\n            _fn = GeneralUtils.deSerializeFunction(messageData.method);\n          } else {\n            _fn = this.methods[messageData.method];\n          }\n\n          method = eval('(' + _fn + ')'); // eslint-disable-line\n\n          result = method.apply(method, _params);\n          if (GeneralUtils.isPromise(result)) {\n            result.then((thenResult) => {\n              this.sendMessage({\n                id: messageData.id,\n                taskId: messageData.taskId,\n                action: messageData.action,\n                result: thenResult,\n                error: null\n              }, ev.origin);\n            })\n              .catch((e) => {\n                this.sendMessage({\n                  id: messageData.id,\n                  taskId: messageData.taskId,\n                  action: messageData.action,\n                  result: null,\n                  error: GeneralUtils.serializeError(e)\n                }, ev.origin);\n              });\n          } else {\n            this.sendMessage({\n              id: messageData.id,\n              taskId: messageData.taskId,\n              action: messageData.action,\n              result: result,\n              error: null\n            }, ev.origin);\n          }\n        } catch (e) {\n          this.sendMessage({\n            id: messageData.id,\n            taskId: messageData.taskId,\n            action: messageData.action,\n            result: null,\n            error: GeneralUtils.serializeError(e)\n          }, ev.origin);\n        }\n      }\n    } else {\n      this.sendMessage({\n        id: messageData.id,\n        taskId: messageData.taskId,\n        action: messageData.action\n      }, ev.origin);\n    }\n  }\n\n  /**\n   * Attach sendmessage and onbeforeunload event listeners\n   */\n  addListeners() {\n    removeEventListener('message', this.onMessage.bind(this)); // eslint-disable-line no-undef\n    addEventListener('message', this.onMessage.bind(this)); // eslint-disable-line no-undef\n  };\n\n  /**\n   * API starts here ->\n   */\n\n  /**\n   * API ends here ->\n   */\n};\n\nexport default WorkerThread;\n\n\n\n// WEBPACK FOOTER //\n// ./src/WorkerThread.js"],"sourceRoot":""}