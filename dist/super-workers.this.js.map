{"version":3,"sources":["webpack:///webpack/bootstrap ac182c91e52e1dd270dc","webpack:///./src/vendor/Promise.js","webpack:///./src/enums/TaskStatusEnum.js","webpack:///./src/utils/generalUtils.js","webpack:///./src/enums/WarningTextEnum.js","webpack:///./src/enums/WorkerStatusEnum.js","webpack:///./src/enums/WorkerActionEnum.js","webpack:///./src/vendor/uuid.js","webpack:///./src/TaskQueue.js","webpack:///./src/utils/array.js","webpack:///./src/utils/worker.js","webpack:///./src/index.js","webpack:///./src/MainThread.js","webpack:///./src/RegisterWorker.js","webpack:///./src/WorkerThread.js"],"names":["Promise","handler","self","_resolve","_reject","_process","CancellationError","message","stack","Error","prototype","constructor","name","TimeoutError","onFail","then","SyntaxError","_onSuccess","_onFail","onSuccess","push","_then","callback","resolve","reject","res","result","error","s","f","forEach","fn","cancel","timeout","timer","setTimeout","delay","always","clearTimeout","promises","remaining","length","results","p","i","resolver","promise","TaskStatusEnum","PENDING","QUEUED","ACTIVE","FAILED","COMPLETED","GeneralUtils","isPromise","value","serializeFunction","encodeURI","toString","deSerializeFunction","decodeURI","serializeError","err","errProps","deSerializeError","fakeError","props","Object","keys","stringifyJson","data","INVALID_JSON","JSON","stringify","e","console","warn","parseJson","jsonParsedData","PARSE_JSON","parse","WarningTextEnum","NO_ID_PROVIDED","INVALID_DATA","WORKER_ALREADY_TERMINATED","CONFIG_REQUIRED","WORKER_NOT_SUPPORTED","URL_REQUIRED","WorkerStatusEnum","IDLE","TERMINATED","WorkerActionEnum","READY","EXEC","UUID","generate","rand","_getRandomInt","hex","_hexAligner","x","NaN","Math","random","_getIntAligner","radix","num","str","z","hexString","TaskQueue","config","tasks","allTasks","_add","task","call","id","status","output","_addToAllList","_remove","index","searchByKeyName","splice","_getCompleted","get","getNextTask","sortOnStringType","getActive","filter","getCompleted","getFailed","getAll","ArrayUtils","returnPreferenceEnum","INDEX","OBJECT","BOTH","key","returnPreference","obj","returnData","isNaN","parseInt","sortOn","arr","orderBy","sort","a","b","WorkerUtils","workers","_isWebWorkerSupported","window","Worker","worker","addNew","getIdle","getTerminated","terminate","terminateAllExceptOne","minWorkers","terminateAll","exceptOne","nonTerminatedWorkers","concat","broadCastAll","sendMessage","broadCastTo","targetedWorker","target","msg","isEncodedMethod","method","defer","taskId","params","action","postMessage","SuperWorkers","MainThread","WorkerThread","maxWorkers","navigator","hardwareConcurrency","max","init","Array","isArray","TypeError","priority","LOW","taskQueue","_runQueuedTask","nextQueuedTask","availableWorker","register","runningOnWorkerId","catch","_ensureMinWorkers","url","RegisterWorker","activeTasks","activeTasksRunningOnWorker","addEventListener","onWorkerMessage","bind","onError","ev","totalJobsFailed","lastJobFaileddAt","Date","totalJobsCompleted","lastJobCompletedAt","createdAt","addEventListeners","methods","unlistenEvents","addListeners","origin","hasOwnProperty","messageData","_params","_fn","eval","apply","thenResult","removeEventListener","onMessage"],"mappings":"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","file":"super-workers.this.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac182c91e52e1dd270dc","/**\n * Inspired from - @josdejong(Github) - Promise.js\n *\n * ES6 port\n *\n * Promise polyfill\n *\n * @param {Function} handler   Called as handler(resolve: Function, reject: Function)\n */\nclass Promise {\n  constructor(handler) {\n    const self = this;\n    let _resolve, _reject, _process;\n\n    /**\n     * Create a cancellation error\n     * @param {String} [message]\n     * @extends Error\n     */\n    function CancellationError(message) {\n      this.message = message || 'promise cancelled';\n      this.stack = (new Error()).stack;\n    }\n\n    CancellationError.prototype = new Error();\n    CancellationError.prototype.constructor = Error;\n    CancellationError.prototype.name = 'CancellationError';\n\n    /**\n     * Create a timeout error\n     * @param {String} [message]\n     * @extends Error\n     */\n    function TimeoutError(message) {\n      this.message = message || 'timeout exceeded';\n      this.stack = (new Error()).stack;\n    }\n\n    TimeoutError.prototype = new Error();\n    TimeoutError.prototype.constructor = Error;\n    TimeoutError.prototype.name = 'TimeoutError';\n\n    this.CancellationError = CancellationError;\n    this.TimeoutError = TimeoutError;\n\n    /**\n     * Add an onFail callback to the Promise\n     * @param {Function} onFail\n     * @returns {Promise} promise\n     */\n    this['catch'] = function (onFail) {  // eslint-disable-line\n      return this.then(null, onFail);\n    };\n\n    if (!(this instanceof Promise)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n\n    if (typeof handler !== 'function') {\n      throw new SyntaxError('Function parameter handler(resolve, reject) missing');\n    }\n\n    const _onSuccess = [];\n    const _onFail = [];\n\n    /**\n     * Process onSuccess and onFail callbacks: add them to the queue.\n     * Once the promise is resolve, the function _promise is replace.\n     * @param {Function} onSuccess\n     * @param {Function} onFail\n     * @private\n     */\n    _process = (onSuccess, onFail) => {\n      _onSuccess.push(onSuccess);\n      _onFail.push(onFail);\n    };\n\n    /**\n     * Execute given callback, then call resolve/reject based on the returned result\n     * @param {Function} callback\n     * @param {Function} resolve\n     * @param {Function} reject\n     * @returns {Function}\n     * @private\n     */\n    function _then(callback, resolve, reject) {\n      return result => {\n        try {\n          const res = callback(result);\n\n          if (res && typeof res.then === 'function' && typeof res['catch'] === 'function') {\n            // method returned a promise\n            res.then(resolve, reject);\n          } else {\n            resolve(res);\n          }\n        } catch (error) {\n          reject(error);\n        }\n      };\n    }\n\n    /**\n     * Add an onSuccess callback and optionally an onFail callback to the Promise\n     * @param {Function} onSuccess\n     * @param {Function} [onFail]\n     * @returns {Promise} promise\n     */\n    this.then = (onSuccess, onFail) => new Promise((resolve, reject) => {\n      const s = onSuccess ? _then(onSuccess, resolve, reject) : resolve;\n      const f = onFail ? _then(onFail, resolve, reject) : reject;\n\n      _process(s, f);\n    }, self);\n\n    /**\n     * Resolve the promise\n     * @param {*} result\n     * @type {Function}\n     */\n    _resolve = result => {\n      _onSuccess.forEach(fn => {\n        fn(result);\n      });\n\n      _process = (onSuccess, onFail) => {\n        onSuccess(result);\n      };\n\n      _resolve = _reject = () => {\n        throw new Error('Promise is already resolved');\n      };\n\n      return self;\n    };\n\n    /**\n     * Reject the promise\n     * @param {Error} error\n     * @type {Function}\n     */\n    _reject = error => {\n      _onFail.forEach(fn => {\n        fn(error);\n      });\n\n      _process = (onSuccess, onFail) => {\n        onFail(error);\n      };\n\n      _resolve = _reject = () => {\n        throw new Error('Promise is already resolved');\n      };\n\n      return self;\n    };\n\n    /**\n     * Cancel te promise. This will reject the promise with a CancellationError\n     * @returns {Promise} self\n     */\n    this.cancel = () => {\n      _reject(new CancellationError());\n\n      return self;\n    };\n\n    /**\n     * Set a timeout for the promise. If the promise is not resolved within\n     * the time, the promise will be cancelled and a TimeoutError is thrown.\n     * If the promise is resolved in time, the timeout is removed.\n     * @param {number} delay     Delay in milliseconds\n     * @returns {Promise} self\n     */\n    this.timeout = delay => {\n      const timer = setTimeout(() => {\n        _reject(new TimeoutError(`Promise timed out after ${delay} ms`));\n      }, delay);\n\n      self.always(() => {\n        clearTimeout(timer);\n      });\n\n      return self;\n    };\n\n    // attach handler passing the resolve and reject functions\n    handler(result => {\n      _resolve(result);\n    }, error => {\n      _reject(error);\n    });\n  }\n\n  // TODO: add support for Promise.catch(Error, callback)\n  // TODO: add support for Promise.catch(Error, Error, callback)\n\n  /**\n   * Execute given callback when the promise either resolves or rejects.\n   * @param {Function} fn\n   * @returns {Promise} promise\n   */\n  always(fn) {\n    return this.then(fn, fn);\n  }\n\n  /**\n   * Create a promise which resolves when all provided promises are resolved,\n   * and fails when any of the promises resolves.\n   * @param {Promise[]} promises\n   * @returns {Promise} promise\n   */\n  static all(promises) {\n    return new Promise((resolve, reject) => {\n      let remaining = promises.length;\n      const results = [];\n\n      if (remaining) {\n        promises.forEach((p, i) => {\n          p.then(result => {\n            results[i] = result;\n            remaining--;\n            if (remaining === 0) {\n              resolve(results);\n            }\n          }, error => {\n            remaining = 0;\n            reject(error);\n          });\n        });\n      } else {\n        resolve(results);\n      }\n    });\n  }\n\n  /**\n   * Create a promise resolver\n   * @returns {{promise: Promise, resolve: Function, reject: Function}} resolver\n   */\n  static defer() {\n    const resolver = {};\n\n    resolver.promise = new Promise((resolve, reject) => {\n      resolver.resolve = resolve;\n      resolver.reject = reject;\n    });\n\n    return resolver;\n  }\n}\n\nexport default Promise;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/Promise.js","/**\n * Enum for Worker status(still active / idle) used for client-worker-communication\n * @type {Object}\n */\nconst TaskStatusEnum = {\n  PENDING: 'pending',\n  QUEUED: 'queued',\n  ACTIVE: 'active',\n  FAILED: 'failed',\n  COMPLETED: 'completed'\n};\n\nexport default TaskStatusEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/TaskStatusEnum.js","import WarningTextEnum from '../enums/WarningTextEnum';\n\nlet GeneralUtils = {\n  isPromise: (value) => {\n    return value && (typeof value.then === 'function');\n  },\n  serializeFunction: (fn) => {\n    if (!fn || typeof fn !== 'function') { return false; }\n\n    return encodeURI(fn.toString());\n  },\n  deSerializeFunction: (fn) => {\n    if (!fn || typeof fn !== 'string') { return false; }\n\n    return decodeURI(fn);\n  },\n  serializeError: (error) => {\n    let i;\n    let err = {};\n    let errProps = [ 'name', 'message', 'stack', 'custom' ];\n\n    if (error instanceof Error) {\n      for (i = errProps.length - 1; i >= 0; i--) {\n        err[errProps[i]] = error[errProps[i]];\n      }\n      return err;\n    }\n\n    return err;\n  },\n  deSerializeError: (error) => {\n    let i;\n    let fakeError = new Error('');\n\n    if (!error) {\n      return fakeError;\n    }\n\n    let props = Object.keys(error);\n\n    for (i = 0; i < props.length; i++) {\n      fakeError[props[i]] = error[props[i]];\n    }\n\n    return fakeError;\n  },\n  /**\n   * Stringify Object\n   * @param  {String} data\n   * @param  {String} err  - Message to be thrown if not valid object\n   * @return {Object}      - stringified json\n   */\n  stringifyJson: function (data, err) {\n    err = err || WarningTextEnum.INVALID_JSON;\n    try {\n      data = JSON.stringify(data);\n    } catch (e) {\n      console.warn(err);\n    }\n\n    return data;\n  },\n  /**\n   * Parse sringified data\n   * @param  {String} data\n   * @param  {String} err  - Message to be thrown if not valid json\n   * @return {Object}      - parsed json\n   */\n  parseJson: function (data, err) {\n    let jsonParsedData;\n\n    err = err || WarningTextEnum.PARSE_JSON;\n    try {\n      jsonParsedData = JSON.parse(data);\n    } catch (e) {\n      console.warn(err);\n    }\n\n    return jsonParsedData;\n  }\n};\n\nexport default GeneralUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/generalUtils.js","/**\n * Enum for showing various warnings to suser when things done wrong\n * @type {Object}\n */\nconst WarningTextEnum = {\n  INVALID_JSON: 'Invalid JSON Object!',\n  PARSE_JSON: 'Can not parse stringifed data',\n  NO_ID_PROVIDED: 'Valid worker id should be provided',\n  INVALID_DATA: 'Some wrong message is being sent by Parent.',\n  WORKER_ALREADY_TERMINATED: 'Web Worker has already been terminated.',\n  CONFIG_REQUIRED: 'Configuration options required. Please read docs.',\n  WORKER_NOT_SUPPORTED: 'Web Worker not supported on this browser version',\n  URL_REQUIRED: 'Url is needed for creating and opening a new window/tab. Please read docs.'\n};\n\nexport default WarningTextEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WarningTextEnum.js","/**\n * Enum for Worker status(still active / idle) used for client-worker-communication\n * @type {Object}\n */\nconst WorkerStatusEnum = {\n  IDLE: 'idle',\n  ACTIVE: 'active',\n  TERMINATED: 'terminated'\n};\n\nexport default WorkerStatusEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WorkerStatusEnum.js","/**\n * Enum for Worker action\n * @type {Object}\n */\nconst WorkerActionEnum = {\n  READY: 'ready',\n  EXEC: 'execute'\n};\n\nexport default WorkerActionEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WorkerActionEnum.js","/**\n * UUID.js: The RFC-compliant UUID generator for JavaScript.\n * ES6 port of only `generate` method of UUID by Varun Malhotra under MIT License\n *\n * @author  LiosK\n * @version v3.3.0\n * @license The MIT License: Copyright (c) 2010-2016 LiosK.\n */\n\n/** @constructor */\nlet UUID;\n\nUUID = (function () {\n  'use strict';\n\n  /** @lends UUID */\n  function UUID() {}\n\n  /**\n   * The simplest function to get an UUID string.\n   * @returns {string} A version 4 UUID string.\n   */\n  UUID.generate = function () {\n    let rand = UUID._getRandomInt;\n    let hex = UUID._hexAligner;\n\n    // [\"timeLow\", \"timeMid\", \"timeHiAndVersion\", \"clockSeqHiAndReserved\", \"clockSeqLow\", \"node\"]\n    return hex(rand(32), 8) + // time_low\n      '-' +\n      hex(rand(16), 4) + // time_mid\n      '-' +\n      hex(0x4000 | rand(12), 4) + // time_hi_and_version\n      '-' +\n      hex(0x8000 | rand(14), 4) + // clock_seq_hi_and_reserved clock_seq_low\n      '-' +\n      hex(rand(48), 12); // node\n  };\n\n  /**\n   * Returns an unsigned x-bit random integer.\n   * @param {int} x A positive integer ranging from 0 to 53, inclusive.\n   * @returns {int} An unsigned x-bit random integer (0 <= f(x) < 2^x).\n   */\n  UUID._getRandomInt = function (x) {\n    if (x < 0) {\n      return NaN;\n    }\n    if (x <= 30) {\n      return (0 | Math.random() * (1 << x));\n    }\n    if (x <= 53) {\n      return (0 | Math.random() * (1 << 30)) +\n        (0 | Math.random() * (1 << x - 30)) * (1 << 30);\n    }\n\n    return NaN;\n  };\n\n  /**\n   * Returns a function that converts an integer to a zero-filled string.\n   * @param {int} radix\n   * @returns {function(num&#44; length)}\n   */\n  UUID._getIntAligner = function (radix) {\n    return function (num, length) {\n      let str = num.toString(radix);\n      let i = length - str.length;\n      let z = '0';\n\n      for (; i > 0; i >>>= 1, z += z) {\n        if (i & 1) {\n          str = z + str;\n        }\n      }\n      return str;\n    };\n  };\n\n  UUID._hexAligner = UUID._getIntAligner(16);\n\n  /**\n   * Returns UUID string representation.\n   * @returns {string} {@link UUID#hexString}.\n   */\n  UUID.prototype.toString = function () {\n    return this.hexString;\n  };\n\n  return UUID;\n})(UUID);\n\nexport default UUID;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/uuid.js","import UUID from './vendor/uuid';\nimport ArrayUtils from './utils/array';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\n\nlet TaskQueue = {\n  config: {},\n  tasks: [],\n  allTasks: [],\n\n  /**\n   * Add task to the queue\n   * @param {Object} task - with proper config\n   */\n  _add: (task) => {\n    if (!task) { throw new Error('No task passed for queuing'); }\n\n    if (Object.prototype.toString.call(task) !== '[object Object]') {\n      throw new Error('Task should be an object');\n    }\n\n    task.id = UUID.generate() || TaskQueue.tasks.length;\n    task.status = TaskStatusEnum.QUEUED;\n    task.output = TaskStatusEnum.PENDING;\n    TaskQueue.tasks.push(task);\n    TaskQueue._addToAllList(task);\n  },\n  _addToAllList: (task) => {\n    if (!task) { throw new Error('No task passed for queuing'); }\n\n    if (Object.prototype.toString.call(task) !== '[object Object]') { throw new Error('Task should be an object'); }\n\n    TaskQueue.allTasks.push(task);\n  },\n  /**\n   * Remove a task from the queue\n   * @param {Number} task\n   */\n  _remove: (id) => {\n    if (!id) { throw new Error('No id passed'); }\n\n    let index;\n\n    index = ArrayUtils.searchByKeyName(TaskQueue.tasks, 'id', id, 'index');\n    if (index !== -1) {\n      TaskQueue.tasks.splice(index, 1);\n    }\n\n    return this;\n  },\n  _getCompleted: (id) => {\n    if (!id) { throw new Error('No id passed'); }\n\n    let task = ArrayUtils.searchByKeyName(TaskQueue.allTasks, 'id', id);\n\n    return task || {};\n  },\n  /**\n   * Get the task from the queue\n   * @param {id} task\n   * @return {Object} task being queried or an empty Object(if not found)\n   */\n  get: (id) => {\n    if (!id) { return TaskQueue.tasks[0] || {}; }\n\n    let task = ArrayUtils.searchByKeyName(TaskQueue.tasks, 'id', id);\n\n    return task || {};\n  },\n  /**\n   * Get next available task from the queue\n   * @return {Object} task being queried or an empty Object(if not found)\n   */\n  getNextTask: () => {\n    // Sort as per task priorities\n    ArrayUtils.sortOnStringType(TaskQueue.tasks, 'priority');\n    return TaskQueue.get();\n  },\n  /**\n   * Filter out all the active tasks\n   * @return {Array} - only the active tasks\n   */\n  getActive: () => {\n    return TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.ACTIVE);\n  },\n  /**\n   * Filter out all the completed tasks\n   * @return {Array} - only the completed tasks\n   */\n  getCompleted: () => {\n    return TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.COMPLETED);\n  },\n  /**\n   * Filter out all the failed tasks\n   * @return {Array} - only the failed tasks\n   */\n  getFailed: () => {\n    return TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.FAILED);\n  },\n  /**\n   * To get list of all tasks\n   * @return {Array} - list of all tasks\n   */\n  getAll: () => {\n    return TaskQueue.tasks;\n  }\n};\n\nexport default TaskQueue;\n\n\n\n// WEBPACK FOOTER //\n// ./src/TaskQueue.js","let ArrayUtils = {};\n\n/**\n * Different type of data needed after searching an item(Object) within data(Array of Objects).\n * 1. `INDEX` returns just the index at which the item was present\n * 2. `OBJECT` returns the matched object\n * 3. `BOTH` returns an object { obj: matched_object, index: index_found }\n */\nlet returnPreferenceEnum = {\n  INDEX: 'index',\n  OBJECT: 'object',\n  BOTH: 'both'\n};\n\n/**\n * Search for an item(Object) within a data-set(Array Of Objects)\n * @param  {Array of Objects} data\n * @param  {String} key - Unique key to search on the basis of\n * @param  {String} value - The matching criteria\n * @param  {String} returnPreference - what kind of output is needed\n * @return {Object}\n */\nArrayUtils.searchByKeyName = (data, key, value, returnPreference) => {\n  if (!data || !key) { return false; }\n\n  returnPreference = returnPreference || returnPreferenceEnum[1]; // default to Object\n  let i;\n  let obj;\n  let returnData;\n  let index = -1;\n\n  for (i = 0; i < data.length; i++) {\n    obj = data[i];\n    // Number matching support\n    if (!isNaN(value) && obj && parseInt(obj[key], 10) === parseInt(value, 10)) {\n      index = i;\n      break;\n    } else if (isNaN(value) && obj && obj[key] === value) { // String exact matching support\n      index = i;\n      break;\n    }\n  }\n\n  if (index === -1) { // item not found\n    data[index] = {}; // for consistency\n  }\n\n  switch (returnPreference) {\n    case returnPreferenceEnum.INDEX:\n      returnData = index;\n      break;\n    case returnPreferenceEnum.BOTH:\n      returnData = {\n        obj: data[index],\n        index: index\n      };\n      break;\n    case returnPreferenceEnum.OBJECT:\n    default:\n      returnData = data[index];\n      break;\n  }\n\n  return returnData;\n};\n\n/**\n * Sort array based on key defined.\n * @param {Array} arr - Array to be sorted\n * @param {String} key - key on which sort is required\n * @param {Boolean} orederBy - Sort in asc/desc order. If nothing is specified, it's ascending order.\n */\nArrayUtils.sortOn = (arr, key, orderBy) => {\n  arr.sort(function (a, b) {\n    return orderBy ? b[key] - a[key] : a[key] - b[key];\n  });\n};\n\n/**\n * Sort array based on key:String defined.\n * @param {Array} arr - Array to be sorted\n * @param {String} key - key on which sort is required\n * @param {Boolean} orederBy - Sort in asc/desc order. If nothing is specified, it's ascending order.\n */\nArrayUtils.sortOnStringType = (arr, key) => {\n  arr.sort(function (a, b) {\n    if (a[key] < b[key]) {\n      return -1;\n    } else if (a[key] > b[key]) {\n      return 1;\n    }\n    return 0;\n  });\n};\n\nexport default ArrayUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/array.js","/**\n * A Tab utility file to deal with tab operations\n */\nimport Promise from '../vendor/Promise';\nimport ArrayUtils from './array';\nimport GeneralUtils from './generalUtils';\n\nimport WorkerStatusEnum from '../enums/WorkerStatusEnum';\nimport WarningTextEnum from '../enums/WarningTextEnum';\n\nlet WorkerUtils = {\n  workers: [],\n  config: {},\n\n  /**\n   * Check is worker is present on window\n   * @return {Boolean} [description]\n   */\n  _isWebWorkerSupported: () => {\n    if (typeof window.Worker === 'function' ||\n      (typeof window.Worker === 'object' || typeof Worker.prototype.constructor === 'function')) {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * Remove a tab from a list of all workers.\n   * This is required when users opts for removing the idle workers from the list of workers.\n   * This can be done explictly by passing `removeidleworkers` key while instantiating Parent.\n   * @param  {Object} tab\n   */\n  _remove: (worker) => {\n    let index;\n\n    index = ArrayUtils.searchByKeyName(WorkerUtils.workers, 'id', worker.id, 'index');\n    WorkerUtils.workers.splice(index, 1);\n  },\n\n  /**\n   * Add a new worker to the Array of workers\n   * @param  {Object} worker\n   * @return {Object} - this\n   */\n  addNew: (worker) => {\n    WorkerUtils.workers.push(worker);\n    return this;\n  },\n  /**\n   * Filter out all the active workers\n   * @return {Array} - only the active workers\n   */\n  getActive: () => {\n    return WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.ACTIVE);\n  },\n  /**\n   * Filter out all the idle workers\n   * @return {Array} - only the idle workers\n   */\n  getIdle: () => {\n    return WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.IDLE);\n  },\n  /**\n   * Filter out all the terminated workers\n   * @return {Array} - only the idle workers\n   */\n  getTerminated: () => {\n    return WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.TERMINATED);\n  },\n  /**\n   * To get list of all workers(idle/active).\n   * Note: idle workers will not be returned if `removeidleworkers` key is paased while instantiaiting Parent.\n   * @return {Array} - list of all workers\n   */\n  getAll: () => {\n    return WorkerUtils.workers;\n  },\n\n  /**\n   * Terminate a specific tab\n   * @param  {String} id\n   * @return {Object} this\n   */\n  terminate: (id) => {\n    if (!id) {\n      console.warn(WarningTextEnum.NO_ID_PROVIDED);\n      return WorkerUtils;\n    }\n\n    let worker = ArrayUtils.searchByKeyName(WorkerUtils.workers, 'id', id, 'object');\n\n    if (worker && worker.worker &&\n      worker.status === WorkerStatusEnum.TERMINATED\n    ) {\n      console.warn(WarningTextEnum.WORKER_ALREADY_TERMINATED);\n      return WorkerUtils;\n    }\n\n    if (worker && worker.worker &&\n      worker.worker.terminate\n    ) {\n      worker.worker.terminate();\n      worker.status = WorkerStatusEnum.TERMINATED;\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Terminate all (active+idle) workers using a native method `Terminate` available on window.open reference.\n   * @return {WorkerUtils} this\n   */\n  terminateAllExceptOne: (minWorkers) => {\n    return WorkerUtils.terminateAll(true, minWorkers || 1);\n  },\n  /**\n   * Terminate all active workers using a native method `Terminate` available on window.open reference.\n   * @return {WorkerUtils} this\n   */\n  terminateAll: (exceptOne, minWorkers) => {\n    let i,\n      nonTerminatedWorkers;\n\n    if (exceptOne) {\n      // terminate only idle workers\n      nonTerminatedWorkers = [].concat(WorkerUtils.getIdle());\n    } else {\n      nonTerminatedWorkers = [].concat(WorkerUtils.getActive()).concat(WorkerUtils.getIdle());\n    }\n\n    for (i = 0; i < nonTerminatedWorkers.length; i++) {\n      // ensure minWorkers should be there\n      if (exceptOne && WorkerUtils.getIdle() && WorkerUtils.getIdle().length <= minWorkers) {\n        return WorkerUtils;\n      }\n\n      if (nonTerminatedWorkers[i] &&\n        nonTerminatedWorkers[i].worker &&\n        nonTerminatedWorkers[i].worker.terminate\n      ) {\n        nonTerminatedWorkers[i].worker.terminate();\n        nonTerminatedWorkers[i].status = WorkerStatusEnum.TERMINATED;\n      }\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postmessage to every active Child tab(excluding itself i.e Parent Tab)\n   * @param  {String} config\n   */\n  broadCastAll: (config) => {\n    let i;\n    let workers = WorkerUtils.getActive() || [];\n\n    for (i = 0; i < workers.length; i++) {\n      WorkerUtils.sendMessage(workers[i], config);\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postmessage to a specific Child tab\n   * @param  {String} id\n   * @param  {String} config\n   */\n  broadCastTo: (id, config) => {\n    let targetedWorker;\n    let workers = [].concat(WorkerUtils.getActive()).concat(WorkerUtils.getIdle());\n\n    targetedWorker = ArrayUtils.searchByKeyName(workers, 'id', id);\n    if (targetedWorker) {\n      WorkerUtils.sendMessage(targetedWorker, config);\n    }\n\n    return WorkerUtils;\n  },\n  /**\n   * Send a postMessage to the desired window/frame\n   * @param  {Object}  target\n   * @param  {String}  msg\n   */\n  sendMessage: (target, config) => {\n    let msg;\n    let isEncodedMethod = false;\n\n    config = config || {};\n    if (config.method && typeof config.method === 'function') {\n      config.method = GeneralUtils.serializeFunction(config.method);\n      isEncodedMethod = true;\n    }\n\n    if (!config.resolver) {\n      config.resolver = Promise.defer();\n    }\n\n    msg = {\n      id: config.id,\n      taskId: config.taskId,\n      method: config.method,\n      params: config.params,\n      action: config.action,\n      isEncodedMethod\n    };\n\n    msg = GeneralUtils.stringifyJson(msg);\n\n    if (target && target.postMessage) {\n      target.postMessage(msg);\n    }\n\n    return config.resolver.promise;\n  }\n};\n\nexport default WorkerUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/worker.js","import Promise from './vendor/Promise';\n\nimport MainThread from './MainThread';\nimport WorkerThread from './WorkerThread';\n/**\n * Expose Parent and Child modules on SuperWorkers Object\n * @type {Object}\n */\nconst SuperWorkers = {\n  MainThread: MainThread,\n  WorkerThread: WorkerThread,\n  Promise: Promise\n};\n\nexport default SuperWorkers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import RegisterWorker from './RegisterWorker';\n\nimport Promise from './vendor/Promise';\nimport TaskQueue from './TaskQueue';\n\nimport WorkerUtils from './utils/worker';\n\nimport WorkerActionEnum from './enums/WorkerActionEnum';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\nimport WorkerStatusEnum from './enums/WorkerStatusEnum';\nimport WarningTextEnum from './enums/WarningTextEnum';\n\n// Named Class expression\nclass MainThread {\n  /**\n   * Involed when object is instantiated\n   * Set flags/variables and calls init method to attach event listeners\n   * @param  {Object} config - Refer API/docs for config keys\n   */\n  constructor(config) {\n    config = config || {};\n\n    if (typeof config.minWorkers === 'undefined') {\n      config.minWorkers = 1;\n    }\n\n    if (typeof config.maxWorkers === 'undefined') {\n      config.maxWorkers = (window.navigator && window.navigator.hardwareConcurrency) || 3;\n    }\n\n    // max workers should not be less than min workers\n    config.maxWorkers = Math.max(config.maxWorkers, config.minWorkers);\n\n    // reset workers with every new Object\n    this.workers = WorkerUtils.workers = [];\n\n    Object.assign(this, config);\n    this.config = config;\n\n    WorkerUtils.config = config;\n\n    this.init();\n  };\n\n  /**\n   * Return list of all workers\n   * @return {Array}\n   */\n  getAllWorkers() {\n    return WorkerUtils.getAll();\n  };\n\n  /**\n   * Return list of all ACTIVE workers\n   * @return {Array}\n   */\n  getActiveWorkers() {\n    return WorkerUtils.getActive();\n  };\n\n  /**\n   * Return list of all IDLE workers\n   * @return {Array}\n   */\n  getIdleWorkers() {\n    return WorkerUtils.getIdle();\n  };\n\n  /**\n   * Return list of all CLOSED workers\n   * @return {Array}\n   */\n  getTerminatedWorkers() {\n    return WorkerUtils.getTerminated();\n  };\n\n  /**\n   * Terminate all workers at once\n   * @return {Object}\n   */\n  terminateAllWorkers() {\n    return WorkerUtils.terminateAll();\n  };\n\n  /**\n   * Terminate a specific worker\n   * @return {Object}\n   */\n  terminateWorker(id) {\n    return WorkerUtils.terminate(id);\n  };\n\n  /**\n   * Send a postmessage to all ACTIVE workers\n   * @return {Object}\n   */\n  broadCastAll(msg) {\n    return WorkerUtils.broadCastAll(msg);\n  };\n\n  /**\n   * Send a postmessage to a specific worker\n   * @return {Object}\n   */\n  broadCastTo(id, msg) {\n    return WorkerUtils.broadCastTo(id, msg);\n  };\n\n  /**\n   * API methods exposed for Public ends here\n   */\n  exec(method, params, config) {\n    // validate type of arguments\n    if (params && !Array.isArray(params)) {\n      throw new TypeError('Array expected as argument \"params\"');\n    }\n\n    if (!config) {\n      config = {};\n    }\n\n    let resolver = Promise.defer();\n\n    let task = {};\n\n    Object.assign(task, config);\n    Object.assign(task, {\n      method: method,\n      params: params,\n      resolver: resolver,\n      priority: (config && config.priority) || TaskStatusEnum.LOW\n    });\n\n    this.taskQueue._add(task);\n    this._runQueuedTask();\n\n    return resolver.promise;\n  };\n\n  _runQueuedTask() {\n    if (!this.taskQueue.tasks.length) {\n      // Wait for some time for resolve/reject promises\n      setTimeout(() => {\n        WorkerUtils.terminateAllExceptOne(this.config.minWorkers);\n      }, 1000);\n    }\n\n    let nextQueuedTask = this.taskQueue.getNextTask();\n    let availableWorker = WorkerUtils.getIdle()[0];\n\n    if (!availableWorker && (WorkerUtils.getActive().length + WorkerUtils.getIdle().length < this.config.maxWorkers)) {\n      // create a new worker\n      this.register();\n      availableWorker = WorkerUtils.getIdle()[0];\n    }\n\n    if (availableWorker) {\n      nextQueuedTask.runningOnWorkerId = availableWorker.id;\n\n      // remove the task from queue list\n      this.taskQueue._remove(nextQueuedTask.id);\n      // if task is not already completed\n      if (nextQueuedTask.status === TaskStatusEnum.QUEUED) {\n        availableWorker.status = WorkerStatusEnum.ACTIVE;\n        nextQueuedTask.status = TaskStatusEnum.ACTIVE;\n\n        // send the request to worker to execute\n        availableWorker.worker.sendMessage(\n          availableWorker.worker, {\n            id: availableWorker.id,\n            resolver: nextQueuedTask.resolver,\n            taskId: nextQueuedTask.id,\n            method: nextQueuedTask.method,\n            params: nextQueuedTask.params,\n            action: WorkerActionEnum.EXEC\n          }\n        ).then((data) => {\n          availableWorker.status = WorkerStatusEnum.IDLE;\n          if (data) {\n            this._runQueuedTask(); // trigger next task in the queue\n          }\n        })\n          .catch((e) => {\n            // if the worker crashed and terminated, remove it from the pool\n            if (availableWorker.status === WorkerStatusEnum.TERMINATED) {\n              WorkerUtils.terminate(availableWorker.id);\n              // If minWorkers set, spin up new workers to replace the crashed ones\n              if (this.config.minWorkers) {\n                this._ensureMinWorkers();\n              }\n            } else {\n              availableWorker.status = WorkerStatusEnum.IDLE;\n            }\n            this._runQueuedTask(); // trigger next task in the queue\n          });\n      }\n    }\n  };\n\n  _ensureMinWorkers() {\n    for (let i = this.workers.length; i < this.config.minWorkers; i++) {\n      this.register();\n    }\n  };\n\n  /**\n   * Register a new worker. Config has to be passed with some required keys\n   * @return {Object} worker\n   */\n  register() {\n    let config = this.config;\n\n    if (!config) {\n      throw new Error(WarningTextEnum.CONFIG_REQUIRED);\n    }\n\n    let url = config.url;\n\n    if (!url) {\n      throw new Error(WarningTextEnum.URL_REQUIRED);\n    }\n\n    let worker = new RegisterWorker(config);\n\n    return worker;\n  };\n\n  /**\n   * Invoked on object instantiation unless user pass a key to call it explicitly\n   */\n  init() {\n    if (!WorkerUtils._isWebWorkerSupported()) {\n      console.warn(WarningTextEnum.WORKER_NOT_SUPPORTED);\n      return;\n    }\n\n    this.taskQueue = TaskQueue;\n    this.taskQueue.tasks = [];\n    this.taskQueue.allTasks = [];\n  };\n};\n\nexport default MainThread;\n\n\n\n// WEBPACK FOOTER //\n// ./src/MainThread.js","import UUID from './vendor/uuid';\nimport TaskQueue from './TaskQueue';\nimport WorkerUtils from './utils/worker';\nimport GeneralUtils from './utils/generalUtils';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\nimport WorkerStatusEnum from './enums/WorkerStatusEnum';\nimport WorkerActionEnum from './enums/WorkerActionEnum';\n\n// Named Class expression\nclass RegisterWorker {\n  /**\n   * Invoked when the object is instantiated\n   */\n  constructor(config) {\n    this.init(config);\n  };\n  // reject all running tasks on worker error\n  onError(error) {\n    this.status = WorkerStatusEnum.TERMINATED;\n    let activeTasks = TaskQueue.getActive();\n    let activeTasksRunningOnWorker = [];\n\n    if (activeTasks && activeTasks.length) {\n      activeTasksRunningOnWorker = activeTasks.filter(task => task.runningOnWorkerId === this.id);\n    }\n\n    for (let i = 0; i < activeTasksRunningOnWorker.length; i++) {\n      activeTasksRunningOnWorker[i].resolver.reject(error);\n    }\n\n    return activeTasksRunningOnWorker;\n  };\n\n  /**\n   * Attach postmessage, native and custom listeners to the window\n   */\n  addEventListeners() {\n    this.worker.addEventListener('message', this.onWorkerMessage.bind(this), false);\n    // listen for worker messages error\n    this.worker.addEventListener('error', this.onError.bind(this));\n    // listen for worker messages exit\n    this.worker.addEventListener('exit', () => {\n      let error = new Error('Worker terminated unexpectedly');\n\n      this.onError(error).bind(this);\n    });\n  };\n\n  onWorkerMessage(ev) {\n    if (!ev || !ev.data || ev.data.action !== WorkerActionEnum.EXEC) {\n      return false;\n    }\n\n    let task = TaskQueue._getCompleted(ev.data.taskId);\n\n    if (ev.data.error) {\n      if (task.resolver && typeof task.resolver.reject === 'function') {\n        task.resolver.reject(GeneralUtils.deSerializeError(ev.data.error));\n      }\n      this.totalJobsFailed += 1;\n      this.lastJobFaileddAt = +new Date();\n      task.status = TaskStatusEnum.FAILED;\n      task.output = TaskStatusEnum.FAILED;\n      if (task.onError && typeof task.onError === 'function') {\n        task.onError();\n      }\n      return false;\n    }\n    if (task.resolver && typeof task.resolver.resolve === 'function') {\n      task.resolver.resolve(ev.data.result);\n    }\n    this.totalJobsCompleted += 1;\n    this.lastJobCompletedAt = +new Date();\n    task.status = TaskStatusEnum.COMPLETED;\n    task.output = ev.data.result;\n    if (task.onSuccess && typeof task.onSuccess === 'function') {\n      task.onSuccess();\n    }\n    return true;\n  };\n  /**\n   * Open a new tab\n   * @param  {Object} config - Refer API for config keys\n   * @return {Object} this\n   */\n  init(config) {\n    config = config || {};\n\n    Object.assign(this, config);\n    this.id = UUID.generate() || (WorkerUtils.workers.length + 1);\n    this.status = WorkerStatusEnum.IDLE;\n    this.createdAt = +new Date();\n    this.lastJobCompletedAt = null;\n    this.totalJobsCompleted = 0;\n    this.totalJobsFailed = 0;\n\n    this.worker = new Worker(config.url);\n\n    WorkerUtils.sendMessage(this.worker, {\n      id: this.id,\n      action: WorkerActionEnum.READY,\n      message: 'Worker is ready.'\n    });\n\n    // TODO: only add methods which are needed\n    Object.assign(this.worker, {\n      sendMessage: WorkerUtils.sendMessage\n    });\n\n    // Add Worker event-listeners\n    this.addEventListeners();\n\n    // Push it to the list of workers\n    WorkerUtils.addNew(this);\n\n    // Return reference for chaining purpose\n    return this;\n  };\n};\n\nexport default RegisterWorker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/RegisterWorker.js","import GeneralUtils from './utils/generalUtils';\nimport WorkerActionEnum from './enums/WorkerActionEnum';\n\n// Named Class expression\nclass WorkerThread {\n  /**\n   * Involed when object is instantiated\n   * Set flags/variables and calls init method to attach event listeners\n   * @param  {Object} config - Refer API/docs for config keys\n   */\n  constructor(config) {\n    if (!config) {\n      config = {};\n    }\n\n    Object.assign(this, config);\n    this.config = config;\n\n    this.methods = {};\n    if (!config.unlistenEvents) {\n      this.addListeners();\n    }\n  };\n\n  sendMessage(obj, origin) {\n    if (origin) {\n      postMessage(obj, origin); // eslint-disable-line no-undef\n    } else {\n      postMessage(obj); // eslint-disable-line no-undef\n    }\n  };\n\n  exposeMethods(methods) {\n    if (!methods || Object.prototype.toString.call(methods) !== '[object Object]') {\n      throw new Error('ExposeMethods function expects object');\n    }\n\n    for (let method in methods) {\n      let fn = methods[method];\n\n      if (methods.hasOwnProperty(method) && typeof fn === 'function') {\n        this.methods[method] = fn;\n      }\n    }\n  }\n\n  onMessage(ev) {\n    let result, messageData;\n\n    messageData = GeneralUtils.parseJson(ev.data) || {};\n    if (messageData && messageData.action === WorkerActionEnum.EXEC) {\n      if (messageData.method) {\n        let _params = messageData.params;\n\n        try {\n          let _fn, method;\n\n          if (messageData.isEncodedMethod) {\n            _fn = GeneralUtils.deSerializeFunction(messageData.method);\n          } else {\n            _fn = this.methods[messageData.method];\n          }\n\n          method = eval('(' + _fn + ')'); // eslint-disable-line\n\n          result = method.apply(method, _params);\n          if (GeneralUtils.isPromise(result)) {\n            result.then((thenResult) => {\n              this.sendMessage({\n                id: messageData.id,\n                taskId: messageData.taskId,\n                action: messageData.action,\n                result: thenResult,\n                error: null\n              }, ev.origin);\n            })\n              .catch((e) => {\n                this.sendMessage({\n                  id: messageData.id,\n                  taskId: messageData.taskId,\n                  action: messageData.action,\n                  result: null,\n                  error: GeneralUtils.serializeError(e)\n                }, ev.origin);\n              });\n          } else {\n            this.sendMessage({\n              id: messageData.id,\n              taskId: messageData.taskId,\n              action: messageData.action,\n              result: result,\n              error: null\n            }, ev.origin);\n          }\n        } catch (e) {\n          this.sendMessage({\n            id: messageData.id,\n            taskId: messageData.taskId,\n            action: messageData.action,\n            result: null,\n            error: GeneralUtils.serializeError(e)\n          }, ev.origin);\n        }\n      }\n    } else {\n      this.sendMessage({\n        id: messageData.id,\n        taskId: messageData.taskId,\n        action: messageData.action\n      }, ev.origin);\n    }\n  }\n\n  /**\n   * Attach sendmessage and onbeforeunload event listeners\n   */\n  addListeners() {\n    removeEventListener('message', this.onMessage.bind(this)); // eslint-disable-line no-undef\n    addEventListener('message', this.onMessage.bind(this)); // eslint-disable-line no-undef\n  };\n\n  /**\n   * API starts here ->\n   */\n\n  /**\n   * API ends here ->\n   */\n};\n\nexport default WorkerThread;\n\n\n\n// WEBPACK FOOTER //\n// ./src/WorkerThread.js"],"sourceRoot":""}