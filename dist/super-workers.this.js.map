{"version":3,"sources":["webpack:///webpack/bootstrap 3b043c6ae6867646a30b","webpack:///./src/vendor/Promise.js","webpack:///./src/enums/TaskStatusEnum.js","webpack:///./src/utils/generalUtils.js","webpack:///./src/enums/WarningTextEnum.js","webpack:///./src/enums/WorkerStatusEnum.js","webpack:///./src/enums/WorkerActionEnum.js","webpack:///./src/vendor/uuid.js","webpack:///./src/TaskQueue.js","webpack:///./src/utils/array.js","webpack:///./src/utils/worker.js","webpack:///./src/index.js","webpack:///./src/MainThread.js","webpack:///./src/RegisterWorker.js","webpack:///./src/WorkerThread.js"],"names":["Promise","handler","self","_resolve","_reject","_process","CancellationError","message","stack","Error","prototype","constructor","name","TimeoutError","onFail","then","SyntaxError","_onSuccess","_onFail","onSuccess","push","_then","callback","resolve","reject","res","result","error","s","f","forEach","fn","cancel","timeout","timer","setTimeout","delay","always","clearTimeout","promises","remaining","length","results","p","i","resolver","promise","TaskStatusEnum","PENDING","QUEUED","ACTIVE","FAILED","COMPLETED","GeneralUtils","isPromise","value","serializeFunction","encodeURI","toString","deSerializeFunction","decodeURI","serializeError","err","errProps","deSerializeError","fakeError","props","Object","keys","stringifyJson","data","INVALID_JSON","JSON","stringify","e","console","warn","parseJson","jsonParsedData","PARSE_JSON","parse","WarningTextEnum","NO_ID_PROVIDED","INVALID_DATA","WORKER_ALREADY_TERMINATED","CONFIG_REQUIRED","WORKER_NOT_SUPPORTED","URL_REQUIRED","WorkerStatusEnum","IDLE","TERMINATED","WorkerActionEnum","READY","EXEC","UUID","generate","rand","_getRandomInt","hex","_hexAligner","x","NaN","Math","random","_getIntAligner","radix","num","str","z","hexString","TaskQueue","config","tasks","allTasks","_add","task","call","id","status","output","_addToAllList","_remove","index","searchByKeyName","splice","_getCompleted","get","getNextTask","sortOnStringType","getActive","filter","getCompleted","getFailed","getAll","ArrayUtils","returnPreferenceEnum","INDEX","OBJECT","BOTH","key","returnPreference","obj","returnData","isNaN","parseInt","sortOn","arr","orderBy","sort","a","b","WorkerUtils","workers","_isWebWorkerSupported","window","Worker","worker","addNew","getIdle","getTerminated","terminate","terminateAllExceptOne","minWorkers","terminateAll","exceptOne","nonTerminatedWorkers","concat","broadCastAll","sendMessage","broadCastTo","targetedWorker","target","msg","isEncodedMethod","method","defer","taskId","params","action","postMessage","SuperWorkers","MainThread","WorkerThread","maxWorkers","navigator","hardwareConcurrency","max","init","Array","isArray","TypeError","priority","LOW","taskQueue","_runQueuedTask","nextQueuedTask","availableWorker","register","runningOnWorkerId","catch","_ensureMinWorkers","url","RegisterWorker","activeTasks","activeTasksRunningOnWorker","addEventListener","onWorkerMessage","bind","onError","ev","totalJobsFailed","lastJobFaileddAt","Date","totalJobsCompleted","lastJobCompletedAt","createdAt","addEventListeners","methods","unlistenEvents","addListeners","origin","hasOwnProperty","messageData","_params","_fn","eval","apply","thenResult","removeEventListener","onMessage"],"mappings":"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","file":"super-workers.this.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3b043c6ae6867646a30b","/**\n * Inspired from - @josdejong(Github) - Promise.js\n *\n * ES6 port\n *\n * Promise polyfill\n *\n * @param {Function} handler   Called as handler(resolve: Function, reject: Function)\n */\nclass Promise {\n\tconstructor(handler) {\n\t\tconst self = this;\n\t\tlet _resolve, _reject, _process;\n\n\t\t/**\n     * Create a cancellation error\n     * @param {String} [message]\n     * @extends Error\n     */\n\t\tfunction CancellationError(message) {\n\t\t\tthis.message = message || 'promise cancelled';\n\t\t\tthis.stack = (new Error()).stack;\n\t\t}\n\n\t\tCancellationError.prototype = new Error();\n\t\tCancellationError.prototype.constructor = Error;\n\t\tCancellationError.prototype.name = 'CancellationError';\n\n\t\t/**\n     * Create a timeout error\n     * @param {String} [message]\n     * @extends Error\n     */\n\t\tfunction TimeoutError(message) {\n\t\t\tthis.message = message || 'timeout exceeded';\n\t\t\tthis.stack = (new Error()).stack;\n\t\t}\n\n\t\tTimeoutError.prototype = new Error();\n\t\tTimeoutError.prototype.constructor = Error;\n\t\tTimeoutError.prototype.name = 'TimeoutError';\n\n\t\tthis.CancellationError = CancellationError;\n\t\tthis.TimeoutError = TimeoutError;\n\n\t\t/**\n     * Add an onFail callback to the Promise\n     * @param {Function} onFail\n     * @returns {Promise} promise\n     */\n    this['catch'] = function (onFail) {  // eslint-disable-line\n\t\t\treturn this.then(null, onFail);\n\t\t};\n\n\t\tif (!(this instanceof Promise)) {\n\t\t\tthrow new SyntaxError('Constructor must be called with the new operator');\n\t\t}\n\n\t\tif (typeof handler !== 'function') {\n\t\t\tthrow new SyntaxError('Function parameter handler(resolve, reject) missing');\n\t\t}\n\n\t\tconst _onSuccess = [];\n\t\tconst _onFail = [];\n\n\t\t/**\n     * Process onSuccess and onFail callbacks: add them to the queue.\n     * Once the promise is resolve, the function _promise is replace.\n     * @param {Function} onSuccess\n     * @param {Function} onFail\n     * @private\n     */\n\t\t_process = (onSuccess, onFail) => {\n\t\t\t_onSuccess.push(onSuccess);\n\t\t\t_onFail.push(onFail);\n\t\t};\n\n\t\t/**\n     * Execute given callback, then call resolve/reject based on the returned result\n     * @param {Function} callback\n     * @param {Function} resolve\n     * @param {Function} reject\n     * @returns {Function}\n     * @private\n     */\n\t\tfunction _then(callback, resolve, reject) {\n\t\t\treturn result => {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = callback(result);\n\n\t\t\t\t\tif (res && typeof res.then === 'function' && typeof res['catch'] === 'function') {\n\t\t\t\t\t\t// method returned a promise\n\t\t\t\t\t\tres.then(resolve, reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(res);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n     * Add an onSuccess callback and optionally an onFail callback to the Promise\n     * @param {Function} onSuccess\n     * @param {Function} [onFail]\n     * @returns {Promise} promise\n     */\n\t\tthis.then = (onSuccess, onFail) => new Promise((resolve, reject) => {\n\t\t\tconst s = onSuccess ? _then(onSuccess, resolve, reject) : resolve;\n\t\t\tconst f = onFail ? _then(onFail, resolve, reject) : reject;\n\n\t\t\t_process(s, f);\n\t\t}, self);\n\n\t\t/**\n     * Resolve the promise\n     * @param {*} result\n     * @type {Function}\n     */\n\t\t_resolve = result => {\n\t\t\t_onSuccess.forEach(fn => {\n\t\t\t\tfn(result);\n\t\t\t});\n\n\t\t\t_process = (onSuccess, onFail) => {\n\t\t\t\tonSuccess(result);\n\t\t\t};\n\n\t\t\t_resolve = _reject = () => {\n\t\t\t\tthrow new Error('Promise is already resolved');\n\t\t\t};\n\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n     * Reject the promise\n     * @param {Error} error\n     * @type {Function}\n     */\n\t\t_reject = error => {\n\t\t\t_onFail.forEach(fn => {\n\t\t\t\tfn(error);\n\t\t\t});\n\n\t\t\t_process = (onSuccess, onFail) => {\n\t\t\t\tonFail(error);\n\t\t\t};\n\n\t\t\t_resolve = _reject = () => {\n\t\t\t\tthrow new Error('Promise is already resolved');\n\t\t\t};\n\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n     * Cancel te promise. This will reject the promise with a CancellationError\n     * @returns {Promise} self\n     */\n\t\tthis.cancel = () => {\n\t\t\t_reject(new CancellationError());\n\n\t\t\treturn self;\n\t\t};\n\n\t\t/**\n     * Set a timeout for the promise. If the promise is not resolved within\n     * the time, the promise will be cancelled and a TimeoutError is thrown.\n     * If the promise is resolved in time, the timeout is removed.\n     * @param {number} delay     Delay in milliseconds\n     * @returns {Promise} self\n     */\n\t\tthis.timeout = delay => {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t_reject(new TimeoutError(`Promise timed out after ${delay} ms`));\n\t\t\t}, delay);\n\n\t\t\tself.always(() => {\n\t\t\t\tclearTimeout(timer);\n\t\t\t});\n\n\t\t\treturn self;\n\t\t};\n\n\t\t// attach handler passing the resolve and reject functions\n\t\thandler(result => {\n\t\t\t_resolve(result);\n\t\t}, error => {\n\t\t\t_reject(error);\n\t\t});\n\t}\n\n\t// TODO: add support for Promise.catch(Error, callback)\n\t// TODO: add support for Promise.catch(Error, Error, callback)\n\n\t/**\n   * Execute given callback when the promise either resolves or rejects.\n   * @param {Function} fn\n   * @returns {Promise} promise\n   */\n\talways(fn) {\n\t\treturn this.then(fn, fn);\n\t}\n\n\t/**\n   * Create a promise which resolves when all provided promises are resolved,\n   * and fails when any of the promises resolves.\n   * @param {Promise[]} promises\n   * @returns {Promise} promise\n   */\n\tstatic all(promises) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet remaining = promises.length;\n\t\t\tconst results = [];\n\n\t\t\tif (remaining) {\n\t\t\t\tpromises.forEach((p, i) => {\n\t\t\t\t\tp.then(result => {\n\t\t\t\t\t\tresults[i] = result;\n\t\t\t\t\t\tremaining--;\n\t\t\t\t\t\tif (remaining === 0) {\n\t\t\t\t\t\t\tresolve(results);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, error => {\n\t\t\t\t\t\tremaining = 0;\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve(results);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n   * Create a promise resolver\n   * @returns {{promise: Promise, resolve: Function, reject: Function}} resolver\n   */\n\tstatic defer() {\n\t\tconst resolver = {};\n\n\t\tresolver.promise = new Promise((resolve, reject) => {\n\t\t\tresolver.resolve = resolve;\n\t\t\tresolver.reject = reject;\n\t\t});\n\n\t\treturn resolver;\n\t}\n}\n\nexport default Promise;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/Promise.js","/**\n * Enum for Worker status(still active / idle) used for client-worker-communication\n * @type {Object}\n */\nconst TaskStatusEnum = {\n\tPENDING: 'pending',\n\tQUEUED: 'queued',\n\tACTIVE: 'active',\n\tFAILED: 'failed',\n\tCOMPLETED: 'completed'\n};\n\nexport default TaskStatusEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/TaskStatusEnum.js","import WarningTextEnum from '../enums/WarningTextEnum';\n\nlet GeneralUtils = {\n\tisPromise: (value) => {\n\t\treturn value && (typeof value.then === 'function');\n\t},\n\tserializeFunction: (fn) => {\n\t\tif (!fn || typeof fn !== 'function') { return false; }\n\n\t\treturn encodeURI(fn.toString());\n\t},\n\tdeSerializeFunction: (fn) => {\n\t\tif (!fn || typeof fn !== 'string') { return false; }\n\n\t\treturn decodeURI(fn);\n\t},\n\tserializeError: (error) => {\n\t\tlet i;\n\t\tlet err = {};\n\t\tlet errProps = [ 'name', 'message', 'stack', 'custom' ];\n\n\t\tif (error instanceof Error) {\n\t\t\tfor (i = errProps.length - 1; i >= 0; i--) {\n\t\t\t\terr[errProps[i]] = error[errProps[i]];\n\t\t\t}\n\t\t\treturn err;\n\t\t}\n\n\t\treturn err;\n\t},\n\tdeSerializeError: (error) => {\n\t\tlet i;\n\t\tlet fakeError = new Error('');\n\n\t\tif (!error) {\n\t\t\treturn fakeError;\n\t\t}\n\n\t\tlet props = Object.keys(error);\n\n\t\tfor (i = 0; i < props.length; i++) {\n\t\t\tfakeError[props[i]] = error[props[i]];\n\t\t}\n\n\t\treturn fakeError;\n\t},\n\t/**\n   * Stringify Object\n   * @param  {String} data\n   * @param  {String} err  - Message to be thrown if not valid object\n   * @return {Object}      - stringified json\n   */\n\tstringifyJson: function (data, err) {\n\t\terr = err || WarningTextEnum.INVALID_JSON;\n\t\ttry {\n\t\t\tdata = JSON.stringify(data);\n\t\t} catch (e) {\n\t\t\tconsole.warn(err);\n\t\t}\n\n\t\treturn data;\n\t},\n\t/**\n   * Parse sringified data\n   * @param  {String} data\n   * @param  {String} err  - Message to be thrown if not valid json\n   * @return {Object}      - parsed json\n   */\n\tparseJson: function (data, err) {\n\t\tlet jsonParsedData;\n\n\t\terr = err || WarningTextEnum.PARSE_JSON;\n\t\ttry {\n\t\t\tjsonParsedData = JSON.parse(data);\n\t\t} catch (e) {\n\t\t\tconsole.warn(err);\n\t\t}\n\n\t\treturn jsonParsedData;\n\t}\n};\n\nexport default GeneralUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/generalUtils.js","/**\n * Enum for showing various warnings to suser when things done wrong\n * @type {Object}\n */\nconst WarningTextEnum = {\n\tINVALID_JSON: 'Invalid JSON Object!',\n\tPARSE_JSON: 'Can not parse stringifed data',\n\tNO_ID_PROVIDED: 'Valid worker id should be provided',\n\tINVALID_DATA: 'Some wrong message is being sent by Parent.',\n\tWORKER_ALREADY_TERMINATED: 'Web Worker has already been terminated.',\n\tCONFIG_REQUIRED: 'Configuration options required. Please read docs.',\n\tWORKER_NOT_SUPPORTED: 'Web Worker not supported on this browser version',\n\tURL_REQUIRED: 'Url is needed for creating and opening a new window/tab. Please read docs.'\n};\n\nexport default WarningTextEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WarningTextEnum.js","/**\n * Enum for Worker status(still active / idle) used for client-worker-communication\n * @type {Object}\n */\nconst WorkerStatusEnum = {\n\tIDLE: 'idle',\n\tACTIVE: 'active',\n\tTERMINATED: 'terminated'\n};\n\nexport default WorkerStatusEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WorkerStatusEnum.js","/**\n * Enum for Worker action\n * @type {Object}\n */\nconst WorkerActionEnum = {\n\tREADY: 'ready',\n\tEXEC: 'execute'\n};\n\nexport default WorkerActionEnum;\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/WorkerActionEnum.js","/**\n * UUID.js: The RFC-compliant UUID generator for JavaScript.\n * ES6 port of only `generate` method of UUID by Varun Malhotra under MIT License\n *\n * @author  LiosK\n * @version v3.3.0\n * @license The MIT License: Copyright (c) 2010-2016 LiosK.\n */\n\n/** @constructor */\nlet UUID;\n\nUUID = (function () {\n\t'use strict';\n\n\t/** @lends UUID */\n\tfunction UUID() {}\n\n\t/**\n   * The simplest function to get an UUID string.\n   * @returns {string} A version 4 UUID string.\n   */\n\tUUID.generate = function () {\n\t\tlet rand = UUID._getRandomInt;\n\t\tlet hex = UUID._hexAligner;\n\n\t\t// [\"timeLow\", \"timeMid\", \"timeHiAndVersion\", \"clockSeqHiAndReserved\", \"clockSeqLow\", \"node\"]\n\t\treturn hex(rand(32), 8) + // time_low\n\t\t\t\t\t\t'-' +\n\t\t\t\t\t\thex(rand(16), 4) + // time_mid\n\t\t\t\t\t\t'-' +\n\t\t\t\t\t\thex(0x4000 | rand(12), 4) + // time_hi_and_version\n\t\t\t\t\t\t'-' +\n\t\t\t\t\t\thex(0x8000 | rand(14), 4) + // clock_seq_hi_and_reserved clock_seq_low\n\t\t\t\t\t\t'-' +\n\t\t\t\t\t\thex(rand(48), 12); // node\n\t};\n\n\t/**\n   * Returns an unsigned x-bit random integer.\n   * @param {int} x A positive integer ranging from 0 to 53, inclusive.\n   * @returns {int} An unsigned x-bit random integer (0 <= f(x) < 2^x).\n   */\n\tUUID._getRandomInt = function (x) {\n\t\tif (x < 0) {\n\t\t\treturn NaN;\n\t\t}\n\t\tif (x <= 30) {\n\t\t\treturn (0 | Math.random() * (1 << x));\n\t\t}\n\t\tif (x <= 53) {\n\t\t\treturn (0 | Math.random() * (1 << 30)) +\n\t\t\t\t\t\t\t\t(0 | Math.random() * (1 << x - 30)) * (1 << 30);\n\t\t}\n\n\t\treturn NaN;\n\t};\n\n\t/**\n   * Returns a function that converts an integer to a zero-filled string.\n   * @param {int} radix\n   * @returns {function(num&#44; length)}\n   */\n\tUUID._getIntAligner = function (radix) {\n\t\treturn function (num, length) {\n\t\t\tlet str = num.toString(radix);\n\t\t\tlet i = length - str.length;\n\t\t\tlet z = '0';\n\n\t\t\tfor (; i > 0; i >>>= 1, z += z) {\n\t\t\t\tif (i & 1) {\n\t\t\t\t\tstr = z + str;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn str;\n\t\t};\n\t};\n\n\tUUID._hexAligner = UUID._getIntAligner(16);\n\n\t/**\n   * Returns UUID string representation.\n   * @returns {string} {@link UUID#hexString}.\n   */\n\tUUID.prototype.toString = function () {\n\t\treturn this.hexString;\n\t};\n\n\treturn UUID;\n})(UUID);\n\nexport default UUID;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/uuid.js","import UUID from './vendor/uuid';\nimport ArrayUtils from './utils/array';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\n\nlet TaskQueue = {\n\tconfig: {},\n\ttasks: [],\n\tallTasks: [],\n\n\t/**\n   * Add task to the queue\n   * @param {Object} task - with proper config\n   */\n\t_add: (task) => {\n\t\tif (!task) { throw new Error('No task passed for queuing'); }\n\n\t\tif (Object.prototype.toString.call(task) !== '[object Object]') {\n\t\t\tthrow new Error('Task should be an object');\n\t\t}\n\n\t\ttask.id = UUID.generate() || TaskQueue.tasks.length;\n\t\ttask.status = TaskStatusEnum.QUEUED;\n\t\ttask.output = TaskStatusEnum.PENDING;\n\t\tTaskQueue.tasks.push(task);\n\t\tTaskQueue._addToAllList(task);\n\t},\n\t_addToAllList: (task) => {\n\t\tif (!task) { throw new Error('No task passed for queuing'); }\n\n\t\tif (Object.prototype.toString.call(task) !== '[object Object]') { throw new Error('Task should be an object'); }\n\n\t\tTaskQueue.allTasks.push(task);\n\t},\n\t/**\n   * Remove a task from the queue\n   * @param {Number} task\n   */\n\t_remove: (id) => {\n\t\tif (!id) { throw new Error('No id passed'); }\n\n\t\tlet index;\n\n\t\tindex = ArrayUtils.searchByKeyName(TaskQueue.tasks, 'id', id, 'index');\n\t\tif (index !== -1) {\n\t\t\tTaskQueue.tasks.splice(index, 1);\n\t\t}\n\n\t\treturn this;\n\t},\n\t_getCompleted: (id) => {\n\t\tif (!id) { throw new Error('No id passed'); }\n\n\t\tlet task = ArrayUtils.searchByKeyName(TaskQueue.allTasks, 'id', id);\n\n\t\treturn task || {};\n\t},\n\t/**\n   * Get the task from the queue\n   * @param {id} task\n   * @return {Object} task being queried or an empty Object(if not found)\n   */\n\tget: (id) => {\n\t\tif (!id) { return TaskQueue.tasks[0] || {}; }\n\n\t\tlet task = ArrayUtils.searchByKeyName(TaskQueue.tasks, 'id', id);\n\n\t\treturn task || {};\n\t},\n\t/**\n   * Get next available task from the queue\n   * @return {Object} task being queried or an empty Object(if not found)\n   */\n\tgetNextTask: () => {\n\t\t// Sort as per task priorities\n\t\tArrayUtils.sortOnStringType(TaskQueue.tasks, 'priority');\n\t\treturn TaskQueue.get();\n\t},\n\t/**\n   * Filter out all the active tasks\n   * @return {Array} - only the active tasks\n   */\n\tgetActive: () => {\n\t\treturn TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.ACTIVE);\n\t},\n\t/**\n   * Filter out all the completed tasks\n   * @return {Array} - only the completed tasks\n   */\n\tgetCompleted: () => {\n\t\treturn TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.COMPLETED);\n\t},\n\t/**\n   * Filter out all the failed tasks\n   * @return {Array} - only the failed tasks\n   */\n\tgetFailed: () => {\n\t\treturn TaskQueue.tasks.filter(task => task.status === TaskStatusEnum.FAILED);\n\t},\n\t/**\n   * To get list of all tasks\n   * @return {Array} - list of all tasks\n   */\n\tgetAll: () => {\n\t\treturn TaskQueue.tasks;\n\t}\n};\n\nexport default TaskQueue;\n\n\n\n// WEBPACK FOOTER //\n// ./src/TaskQueue.js","let ArrayUtils = {};\n\n/**\n * Different type of data needed after searching an item(Object) within data(Array of Objects).\n * 1. `INDEX` returns just the index at which the item was present\n * 2. `OBJECT` returns the matched object\n * 3. `BOTH` returns an object { obj: matched_object, index: index_found }\n */\nlet returnPreferenceEnum = {\n\tINDEX: 'index',\n\tOBJECT: 'object',\n\tBOTH: 'both'\n};\n\n/**\n * Search for an item(Object) within a data-set(Array Of Objects)\n * @param  {Array of Objects} data\n * @param  {String} key - Unique key to search on the basis of\n * @param  {String} value - The matching criteria\n * @param  {String} returnPreference - what kind of output is needed\n * @return {Object}\n */\nArrayUtils.searchByKeyName = (data, key, value, returnPreference) => {\n\tif (!data || !key) { return false; }\n\n\treturnPreference = returnPreference || returnPreferenceEnum[1]; // default to Object\n\tlet i;\n\tlet obj;\n\tlet returnData;\n\tlet index = -1;\n\n\tfor (i = 0; i < data.length; i++) {\n\t\tobj = data[i];\n\t\t// Number matching support\n\t\tif (!isNaN(value) && obj && parseInt(obj[key], 10) === parseInt(value, 10)) {\n\t\t\tindex = i;\n\t\t\tbreak;\n\t\t} else if (isNaN(value) && obj && obj[key] === value) { // String exact matching support\n\t\t\tindex = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (index === -1) { // item not found\n\t\tdata[index] = {}; // for consistency\n\t}\n\n\tswitch (returnPreference) {\n\t\tcase returnPreferenceEnum.INDEX:\n\t\t\treturnData = index;\n\t\t\tbreak;\n\t\tcase returnPreferenceEnum.BOTH:\n\t\t\treturnData = {\n\t\t\t\tobj: data[index],\n\t\t\t\tindex: index\n\t\t\t};\n\t\t\tbreak;\n\t\tcase returnPreferenceEnum.OBJECT:\n\t\tdefault:\n\t\t\treturnData = data[index];\n\t\t\tbreak;\n\t}\n\n\treturn returnData;\n};\n\n/**\n * Sort array based on key defined.\n * @param {Array} arr - Array to be sorted\n * @param {String} key - key on which sort is required\n * @param {Boolean} orederBy - Sort in asc/desc order. If nothing is specified, it's ascending order.\n */\nArrayUtils.sortOn = (arr, key, orderBy) => {\n\tarr.sort(function (a, b) {\n\t\treturn orderBy ? b[key] - a[key] : a[key] - b[key];\n\t});\n};\n\n/**\n * Sort array based on key:String defined.\n * @param {Array} arr - Array to be sorted\n * @param {String} key - key on which sort is required\n * @param {Boolean} orederBy - Sort in asc/desc order. If nothing is specified, it's ascending order.\n */\nArrayUtils.sortOnStringType = (arr, key) => {\n\tarr.sort(function (a, b) {\n\t\tif (a[key] < b[key]) {\n\t\t\treturn -1;\n\t\t} else if (a[key] > b[key]) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t});\n};\n\nexport default ArrayUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/array.js","/**\n * A Tab utility file to deal with tab operations\n */\nimport Promise from '../vendor/Promise';\nimport ArrayUtils from './array';\nimport GeneralUtils from './generalUtils';\n\nimport WorkerStatusEnum from '../enums/WorkerStatusEnum';\nimport WarningTextEnum from '../enums/WarningTextEnum';\n\nlet WorkerUtils = {\n\tworkers: [],\n\tconfig: {},\n\n\t/**\n   * Check is worker is present on window\n   * @return {Boolean} [description]\n   */\n\t_isWebWorkerSupported: () => {\n\t\tif (typeof window.Worker === 'function' ||\n\t\t\t\t\t\t(typeof window.Worker === 'object' || typeof Worker.prototype.constructor === 'function')) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\t/**\n   * Remove a tab from a list of all workers.\n   * This is required when users opts for removing the idle workers from the list of workers.\n   * This can be done explictly by passing `removeidleworkers` key while instantiating Parent.\n   * @param  {Object} tab\n   */\n\t_remove: (worker) => {\n\t\tlet index;\n\n\t\tindex = ArrayUtils.searchByKeyName(WorkerUtils.workers, 'id', worker.id, 'index');\n\t\tWorkerUtils.workers.splice(index, 1);\n\t},\n\n\t/**\n   * Add a new worker to the Array of workers\n   * @param  {Object} worker\n   * @return {Object} - this\n   */\n\taddNew: (worker) => {\n\t\tWorkerUtils.workers.push(worker);\n\t\treturn this;\n\t},\n\t/**\n   * Filter out all the active workers\n   * @return {Array} - only the active workers\n   */\n\tgetActive: () => {\n\t\treturn WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.ACTIVE);\n\t},\n\t/**\n   * Filter out all the idle workers\n   * @return {Array} - only the idle workers\n   */\n\tgetIdle: () => {\n\t\treturn WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.IDLE);\n\t},\n\t/**\n   * Filter out all the terminated workers\n   * @return {Array} - only the idle workers\n   */\n\tgetTerminated: () => {\n\t\treturn WorkerUtils.workers.filter(worker => worker.status === WorkerStatusEnum.TERMINATED);\n\t},\n\t/**\n   * To get list of all workers(idle/active).\n   * Note: idle workers will not be returned if `removeidleworkers` key is paased while instantiaiting Parent.\n   * @return {Array} - list of all workers\n   */\n\tgetAll: () => {\n\t\treturn WorkerUtils.workers;\n\t},\n\n\t/**\n   * Terminate a specific tab\n   * @param  {String} id\n   * @return {Object} this\n   */\n\tterminate: (id) => {\n\t\tif (!id) {\n\t\t\tconsole.warn(WarningTextEnum.NO_ID_PROVIDED);\n\t\t\treturn WorkerUtils;\n\t\t}\n\n\t\tlet worker = ArrayUtils.searchByKeyName(WorkerUtils.workers, 'id', id, 'object');\n\n\t\tif (worker && worker.worker &&\n\t\t\t\t\t\tworker.status === WorkerStatusEnum.TERMINATED\n\t\t) {\n\t\t\tconsole.warn(WarningTextEnum.WORKER_ALREADY_TERMINATED);\n\t\t\treturn WorkerUtils;\n\t\t}\n\n\t\tif (worker && worker.worker &&\n\t\t\t\t\t\tworker.worker.terminate\n\t\t) {\n\t\t\tworker.worker.terminate();\n\t\t\tworker.status = WorkerStatusEnum.TERMINATED;\n\t\t}\n\n\t\treturn WorkerUtils;\n\t},\n\t/**\n   * Terminate all (active+idle) workers using a native method `Terminate` available on window.open reference.\n   * @return {WorkerUtils} this\n   */\n\tterminateAllExceptOne: (minWorkers) => {\n\t\treturn WorkerUtils.terminateAll(true, minWorkers || 1);\n\t},\n\t/**\n   * Terminate all active workers using a native method `Terminate` available on window.open reference.\n   * @return {WorkerUtils} this\n   */\n\tterminateAll: (exceptOne, minWorkers) => {\n\t\tlet i,\n\t\t\tnonTerminatedWorkers;\n\n\t\tif (exceptOne) {\n\t\t\t// terminate only idle workers\n\t\t\tnonTerminatedWorkers = [].concat(WorkerUtils.getIdle());\n\t\t} else {\n\t\t\tnonTerminatedWorkers = [].concat(WorkerUtils.getActive()).concat(WorkerUtils.getIdle());\n\t\t}\n\n\t\tfor (i = 0; i < nonTerminatedWorkers.length; i++) {\n\t\t\t// ensure minWorkers should be there\n\t\t\tif (exceptOne && WorkerUtils.getIdle() && WorkerUtils.getIdle().length <= minWorkers) {\n\t\t\t\treturn WorkerUtils;\n\t\t\t}\n\n\t\t\tif (nonTerminatedWorkers[i] &&\n\t\t\t\t\t\t\t\tnonTerminatedWorkers[i].worker &&\n\t\t\t\t\t\t\t\tnonTerminatedWorkers[i].worker.terminate\n\t\t\t) {\n\t\t\t\tnonTerminatedWorkers[i].worker.terminate();\n\t\t\t\tnonTerminatedWorkers[i].status = WorkerStatusEnum.TERMINATED;\n\t\t\t}\n\t\t}\n\n\t\treturn WorkerUtils;\n\t},\n\t/**\n   * Send a postmessage to every active Child tab(excluding itself i.e Parent Tab)\n   * @param  {String} config\n   */\n\tbroadCastAll: (config) => {\n\t\tlet i;\n\t\tlet workers = WorkerUtils.getActive() || [];\n\n\t\tfor (i = 0; i < workers.length; i++) {\n\t\t\tWorkerUtils.sendMessage(workers[i], config);\n\t\t}\n\n\t\treturn WorkerUtils;\n\t},\n\t/**\n   * Send a postmessage to a specific Child tab\n   * @param  {String} id\n   * @param  {String} config\n   */\n\tbroadCastTo: (id, config) => {\n\t\tlet targetedWorker;\n\t\tlet workers = [].concat(WorkerUtils.getActive()).concat(WorkerUtils.getIdle());\n\n\t\ttargetedWorker = ArrayUtils.searchByKeyName(workers, 'id', id);\n\t\tif (targetedWorker) {\n\t\t\tWorkerUtils.sendMessage(targetedWorker, config);\n\t\t}\n\n\t\treturn WorkerUtils;\n\t},\n\t/**\n   * Send a postMessage to the desired window/frame\n   * @param  {Object}  target\n   * @param  {String}  msg\n   */\n\tsendMessage: (target, config) => {\n\t\tlet msg;\n\t\tlet isEncodedMethod = false;\n\n\t\tconfig = config || {};\n\t\tif (config.method && typeof config.method === 'function') {\n\t\t\tconfig.method = GeneralUtils.serializeFunction(config.method);\n\t\t\tisEncodedMethod = true;\n\t\t}\n\n\t\tif (!config.resolver) {\n\t\t\tconfig.resolver = Promise.defer();\n\t\t}\n\n\t\tmsg = {\n\t\t\tid: config.id,\n\t\t\ttaskId: config.taskId,\n\t\t\tmethod: config.method,\n\t\t\tparams: config.params,\n\t\t\taction: config.action,\n\t\t\tisEncodedMethod\n\t\t};\n\n\t\tmsg = GeneralUtils.stringifyJson(msg);\n\n\t\tif (target && target.postMessage) {\n\t\t\ttarget.postMessage(msg);\n\t\t}\n\n\t\treturn config.resolver.promise;\n\t}\n};\n\nexport default WorkerUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/worker.js","import Promise from './vendor/Promise';\n\nimport MainThread from './MainThread';\nimport WorkerThread from './WorkerThread';\n/**\n * Expose Parent and Child modules on SuperWorkers Object\n * @type {Object}\n */\nconst SuperWorkers = {\n\tMainThread: MainThread,\n\tWorkerThread: WorkerThread,\n\tPromise: Promise\n};\n\nexport default SuperWorkers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import RegisterWorker from './RegisterWorker';\n\nimport Promise from './vendor/Promise';\nimport TaskQueue from './TaskQueue';\n\nimport WorkerUtils from './utils/worker';\n\nimport WorkerActionEnum from './enums/WorkerActionEnum';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\nimport WorkerStatusEnum from './enums/WorkerStatusEnum';\nimport WarningTextEnum from './enums/WarningTextEnum';\n\n// Named Class expression\nclass MainThread {\n\t/**\n   * Involed when object is instantiated\n   * Set flags/variables and calls init method to attach event listeners\n   * @param  {Object} config - Refer API/docs for config keys\n   */\n\tconstructor(config) {\n\t\tconfig = config || {};\n\n\t\tif (typeof config.minWorkers === 'undefined') {\n\t\t\tconfig.minWorkers = 1;\n\t\t}\n\n\t\tif (typeof config.maxWorkers === 'undefined') {\n\t\t\tconfig.maxWorkers = (window.navigator && window.navigator.hardwareConcurrency) || 3;\n\t\t}\n\n\t\t// max workers should not be less than min workers\n\t\tconfig.maxWorkers = Math.max(config.maxWorkers, config.minWorkers);\n\n\t\t// reset workers with every new Object\n\t\tthis.workers = WorkerUtils.workers = [];\n\n\t\tObject.assign(this, config);\n\t\tthis.config = config;\n\n\t\tWorkerUtils.config = config;\n\n\t\tthis.init();\n\t};\n\n\t/**\n   * Return list of all workers\n   * @return {Array}\n   */\n\tgetAllWorkers() {\n\t\treturn WorkerUtils.getAll();\n\t};\n\n\t/**\n   * Return list of all ACTIVE workers\n   * @return {Array}\n   */\n\tgetActiveWorkers() {\n\t\treturn WorkerUtils.getActive();\n\t};\n\n\t/**\n   * Return list of all IDLE workers\n   * @return {Array}\n   */\n\tgetIdleWorkers() {\n\t\treturn WorkerUtils.getIdle();\n\t};\n\n\t/**\n   * Return list of all CLOSED workers\n   * @return {Array}\n   */\n\tgetTerminatedWorkers() {\n\t\treturn WorkerUtils.getTerminated();\n\t};\n\n\t/**\n   * Terminate all workers at once\n   * @return {Object}\n   */\n\tterminateAllWorkers() {\n\t\treturn WorkerUtils.terminateAll();\n\t};\n\n\t/**\n   * Terminate a specific worker\n   * @return {Object}\n   */\n\tterminateWorker(id) {\n\t\treturn WorkerUtils.terminate(id);\n\t};\n\n\t/**\n   * Send a postmessage to all ACTIVE workers\n   * @return {Object}\n   */\n\tbroadCastAll(msg) {\n\t\treturn WorkerUtils.broadCastAll(msg);\n\t};\n\n\t/**\n   * Send a postmessage to a specific worker\n   * @return {Object}\n   */\n\tbroadCastTo(id, msg) {\n\t\treturn WorkerUtils.broadCastTo(id, msg);\n\t};\n\n\t/**\n   * API methods exposed for Public ends here\n   **/\n\n\texec(method, params, config) {\n\t\t// validate type of arguments\n\t\tif (params && !Array.isArray(params)) {\n\t\t\tthrow new TypeError('Array expected as argument \"params\"');\n\t\t}\n\n\t\tif (!config) {\n\t\t\tconfig = {};\n\t\t}\n\n\t\tlet resolver = Promise.defer();\n\n\t\tlet task = {};\n\n\t\tObject.assign(task, config);\n\t\tObject.assign(task, {\n\t\t\tmethod: method,\n\t\t\tparams: params,\n\t\t\tresolver: resolver,\n\t\t\tpriority: (config && config.priority) || TaskStatusEnum.LOW\n\t\t});\n\n\t\tthis.taskQueue._add(task);\n\t\tthis._runQueuedTask();\n\n\t\treturn resolver.promise;\n\t};\n\n\t_runQueuedTask() {\n\t\tif (!this.taskQueue.tasks.length) {\n\t\t\t// Wait for some time for resolve/reject promises\n\t\t\tsetTimeout(() => {\n\t\t\t\tWorkerUtils.terminateAllExceptOne(this.config.minWorkers);\n\t\t\t}, 1000);\n\t\t}\n\n\t\tlet nextQueuedTask = this.taskQueue.getNextTask();\n\t\tlet availableWorker = WorkerUtils.getIdle()[0];\n\n\t\tif (!availableWorker && (WorkerUtils.getActive().length + WorkerUtils.getIdle().length < this.config.maxWorkers)) {\n\t\t\t// create a new worker\n\t\t\tthis.register();\n\t\t\tavailableWorker = WorkerUtils.getIdle()[0];\n\t\t}\n\n\t\tif (availableWorker) {\n\t\t\tnextQueuedTask.runningOnWorkerId = availableWorker.id;\n\n\t\t\t// remove the task from queue list\n\t\t\tthis.taskQueue._remove(nextQueuedTask.id);\n\t\t\t// if task is not already completed\n\t\t\tif (nextQueuedTask.status === TaskStatusEnum.QUEUED) {\n\t\t\t\tavailableWorker.status = WorkerStatusEnum.ACTIVE;\n\t\t\t\tnextQueuedTask.status = TaskStatusEnum.ACTIVE;\n\n\t\t\t\t// send the request to worker to execute\n\t\t\t\tavailableWorker.worker.sendMessage(\n\t\t\t\t\tavailableWorker.worker, {\n\t\t\t\t\t\tid: availableWorker.id,\n\t\t\t\t\t\tresolver: nextQueuedTask.resolver,\n\t\t\t\t\t\ttaskId: nextQueuedTask.id,\n\t\t\t\t\t\tmethod: nextQueuedTask.method,\n\t\t\t\t\t\tparams: nextQueuedTask.params,\n\t\t\t\t\t\taction: WorkerActionEnum.EXEC\n\t\t\t\t\t}\n\t\t\t\t).then((data) => {\n\t\t\t\t\tavailableWorker.status = WorkerStatusEnum.IDLE;\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tthis._runQueuedTask(); // trigger next task in the queue\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t// if the worker crashed and terminated, remove it from the pool\n\t\t\t\t\t\tif (availableWorker.status === WorkerStatusEnum.TERMINATED) {\n\t\t\t\t\t\t\tWorkerUtils.terminate(availableWorker.id);\n\t\t\t\t\t\t\t// If minWorkers set, spin up new workers to replace the crashed ones\n\t\t\t\t\t\t\tif (this.config.minWorkers) {\n\t\t\t\t\t\t\t\tthis._ensureMinWorkers();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tavailableWorker.status = WorkerStatusEnum.IDLE;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._runQueuedTask(); // trigger next task in the queue\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\t_ensureMinWorkers() {\n\t\tfor (let i = this.workers.length; i < this.config.minWorkers; i++) {\n\t\t\tthis.register();\n\t\t}\n\t};\n\n\t/**\n   * Register a new worker. Config has to be passed with some required keys\n   * @return {Object} worker\n   */\n\tregister() {\n\t\tlet config = this.config;\n\n\t\tif (!config) {\n\t\t\tthrow new Error(WarningTextEnum.CONFIG_REQUIRED);\n\t\t}\n\n\t\tlet url = config.url;\n\n\t\tif (!url) {\n\t\t\tthrow new Error(WarningTextEnum.URL_REQUIRED);\n\t\t}\n\n\t\tlet worker = new RegisterWorker(config);\n\n\t\treturn worker;\n\t};\n\n\t/**\n   * Invoked on object instantiation unless user pass a key to call it explicitly\n   */\n\tinit() {\n\t\tif (!WorkerUtils._isWebWorkerSupported()) {\n\t\t\tconsole.warn(WarningTextEnum.WORKER_NOT_SUPPORTED);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.taskQueue = TaskQueue;\n\t\tthis.taskQueue.tasks = [];\n\t\tthis.taskQueue.allTasks = [];\n\t};\n};\n\nexport default MainThread;\n\n\n\n// WEBPACK FOOTER //\n// ./src/MainThread.js","import UUID from './vendor/uuid';\nimport TaskQueue from './TaskQueue';\nimport WorkerUtils from './utils/worker';\nimport GeneralUtils from './utils/generalUtils';\nimport TaskStatusEnum from './enums/TaskStatusEnum';\nimport WorkerStatusEnum from './enums/WorkerStatusEnum';\nimport WorkerActionEnum from './enums/WorkerActionEnum';\n\n// Named Class expression\nclass RegisterWorker {\n\t/**\n   * Invoked when the object is instantiated\n   */\n\tconstructor(config) {\n\t\tthis.init(config);\n\t};\n\t// reject all running tasks on worker error\n\tonError(error) {\n\t\tthis.status = WorkerStatusEnum.TERMINATED;\n\t\tlet activeTasks = TaskQueue.getActive();\n\t\tlet activeTasksRunningOnWorker = [];\n\n\t\tif (activeTasks && activeTasks.length) {\n\t\t\tactiveTasksRunningOnWorker = activeTasks.filter(task => task.runningOnWorkerId === this.id);\n\t\t}\n\n\t\tfor (let i = 0; i < activeTasksRunningOnWorker.length; i++) {\n\t\t\tactiveTasksRunningOnWorker[i].resolver.reject(error);\n\t\t}\n\n\t\treturn activeTasksRunningOnWorker;\n\t};\n\n\t/**\n   * Attach postmessage, native and custom listeners to the window\n   */\n\taddEventListeners() {\n\t\tthis.worker.addEventListener('message', this.onWorkerMessage.bind(this), false);\n\t\t// listen for worker messages error\n\t\tthis.worker.addEventListener('error', this.onError.bind(this));\n\t\t// listen for worker messages exit\n\t\tthis.worker.addEventListener('exit', () => {\n\t\t\tlet error = new Error('Worker terminated unexpectedly');\n\n\t\t\tthis.onError(error).bind(this);\n\t\t});\n\t};\n\n\tonWorkerMessage(ev) {\n\t\tif (!ev || !ev.data || ev.data.action !== WorkerActionEnum.EXEC) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet task = TaskQueue._getCompleted(ev.data.taskId);\n\n\t\tif (ev.data.error) {\n\t\t\tif (task.resolver && typeof task.resolver.reject === 'function') {\n\t\t\t\ttask.resolver.reject(GeneralUtils.deSerializeError(ev.data.error));\n\t\t\t}\n\t\t\tthis.totalJobsFailed += 1;\n\t\t\tthis.lastJobFaileddAt = +new Date();\n\t\t\ttask.status = TaskStatusEnum.FAILED;\n\t\t\ttask.output = TaskStatusEnum.FAILED;\n\t\t\tif (task.onError && typeof task.onError === 'function') {\n\t\t\t\ttask.onError();\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\tif (task.resolver && typeof task.resolver.resolve === 'function') {\n\t\t\ttask.resolver.resolve(ev.data.result);\n\t\t}\n\t\tthis.totalJobsCompleted += 1;\n\t\tthis.lastJobCompletedAt = +new Date();\n\t\ttask.status = TaskStatusEnum.COMPLETED;\n\t\ttask.output = ev.data.result;\n\t\tif (task.onSuccess && typeof task.onSuccess === 'function') {\n\t\t\ttask.onSuccess();\n\t\t}\n\t\treturn true;\n\t};\n\t/**\n   * Open a new tab\n   * @param  {Object} config - Refer API for config keys\n   * @return {Object} this\n   */\n\tinit(config) {\n\t\tconfig = config || {};\n\n\t\tObject.assign(this, config);\n\t\tthis.id = UUID.generate() || (WorkerUtils.workers.length + 1);\n\t\tthis.status = WorkerStatusEnum.IDLE;\n\t\tthis.createdAt = +new Date();\n\t\tthis.lastJobCompletedAt = null;\n\t\tthis.totalJobsCompleted = 0;\n\t\tthis.totalJobsFailed = 0;\n\n\t\tthis.worker = new Worker(config.url);\n\n\t\tWorkerUtils.sendMessage(this.worker, {\n\t\t\tid: this.id,\n\t\t\taction: WorkerActionEnum.READY,\n\t\t\tmessage: 'Worker is ready.'\n\t\t});\n\n\t\t// TODO: only add methods which are needed\n\t\tObject.assign(this.worker, {\n\t\t\tsendMessage: WorkerUtils.sendMessage\n\t\t});\n\n\t\t// Add Worker event-listeners\n\t\tthis.addEventListeners();\n\n\t\t// Push it to the list of workers\n\t\tWorkerUtils.addNew(this);\n\n\t\t// Return reference for chaining purpose\n\t\treturn this;\n\t};\n};\n\nexport default RegisterWorker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/RegisterWorker.js","import GeneralUtils from './utils/generalUtils';\nimport WorkerActionEnum from './enums/WorkerActionEnum';\n\n// Named Class expression\nclass WorkerThread {\n\t/**\n   * Involed when object is instantiated\n   * Set flags/variables and calls init method to attach event listeners\n   * @param  {Object} config - Refer API/docs for config keys\n   */\n\tconstructor(config) {\n\t\tif (!config) {\n\t\t\tconfig = {};\n\t\t}\n\n\t\tObject.assign(this, config);\n\t\tthis.config = config;\n\n\t\tthis.methods = {};\n\t\tif (!config.unlistenEvents) {\n\t\t\tthis.addListeners();\n\t\t}\n\t};\n\n\tsendMessage(obj, origin) {\n\t\tif (origin) {\n\t\t\tpostMessage(obj, origin); // eslint-disable-line no-undef\n\t\t} else {\n\t\t\tpostMessage(obj); // eslint-disable-line no-undef\n\t\t}\n\t};\n\n\texposeMethods(methods) {\n\t\tif (!methods || Object.prototype.toString.call(methods) !== '[object Object]') {\n\t\t\tthrow new Error('ExposeMethods function expects object');\n\t\t}\n\n\t\tfor (let method in methods) {\n\t\t\tlet fn = methods[method];\n\n\t\t\tif (methods.hasOwnProperty(method) && typeof fn === 'function') {\n\t\t\t\tthis.methods[method] = fn;\n\t\t\t}\n\t\t}\n\t}\n\n\tonMessage(ev) {\n\t\tlet result, messageData;\n\n\t\tmessageData = GeneralUtils.parseJson(ev.data) || {};\n\t\tif (messageData && messageData.action === WorkerActionEnum.EXEC) {\n\t\t\tif (messageData.method) {\n\t\t\t\tlet _params = messageData.params;\n\n\t\t\t\ttry {\n\t\t\t\t\tlet _fn, method;\n\n\t\t\t\t\tif (messageData.isEncodedMethod) {\n\t\t\t\t\t\t_fn = GeneralUtils.deSerializeFunction(messageData.method);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_fn = this.methods[messageData.method];\n\t\t\t\t\t}\n\n          method = eval('(' + _fn + ')'); // eslint-disable-line\n\n\t\t\t\t\tresult = method.apply(method, _params);\n\t\t\t\t\tif (GeneralUtils.isPromise(result)) {\n\t\t\t\t\t\tresult.then((thenResult) => {\n\t\t\t\t\t\t\tthis.sendMessage({\n\t\t\t\t\t\t\t\tid: messageData.id,\n\t\t\t\t\t\t\t\ttaskId: messageData.taskId,\n\t\t\t\t\t\t\t\taction: messageData.action,\n\t\t\t\t\t\t\t\tresult: thenResult,\n\t\t\t\t\t\t\t\terror: null\n\t\t\t\t\t\t\t}, ev.origin);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\tthis.sendMessage({\n\t\t\t\t\t\t\t\t\tid: messageData.id,\n\t\t\t\t\t\t\t\t\ttaskId: messageData.taskId,\n\t\t\t\t\t\t\t\t\taction: messageData.action,\n\t\t\t\t\t\t\t\t\tresult: null,\n\t\t\t\t\t\t\t\t\terror: GeneralUtils.serializeError(e)\n\t\t\t\t\t\t\t\t}, ev.origin);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.sendMessage({\n\t\t\t\t\t\t\tid: messageData.id,\n\t\t\t\t\t\t\ttaskId: messageData.taskId,\n\t\t\t\t\t\t\taction: messageData.action,\n\t\t\t\t\t\t\tresult: result,\n\t\t\t\t\t\t\terror: null\n\t\t\t\t\t\t}, ev.origin);\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthis.sendMessage({\n\t\t\t\t\t\tid: messageData.id,\n\t\t\t\t\t\ttaskId: messageData.taskId,\n\t\t\t\t\t\taction: messageData.action,\n\t\t\t\t\t\tresult: null,\n\t\t\t\t\t\terror: GeneralUtils.serializeError(e)\n\t\t\t\t\t}, ev.origin);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.sendMessage({\n\t\t\t\tid: messageData.id,\n\t\t\t\ttaskId: messageData.taskId,\n\t\t\t\taction: messageData.action\n\t\t\t}, ev.origin);\n\t\t}\n\t}\n\n\t/**\n   * Attach sendmessage and onbeforeunload event listeners\n   */\n\taddListeners() {\n\t\tremoveEventListener('message', this.onMessage.bind(this)); // eslint-disable-line no-undef\n\t\taddEventListener('message', this.onMessage.bind(this)); // eslint-disable-line no-undef\n\t};\n\n\t/**\n   * API starts here ->\n   */\n\n\t/**\n   * API ends here ->\n   */\n};\n\nexport default WorkerThread;\n\n\n\n// WEBPACK FOOTER //\n// ./src/WorkerThread.js"],"sourceRoot":""}